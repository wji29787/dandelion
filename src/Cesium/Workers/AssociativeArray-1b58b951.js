define(["exports","./when-b43ff45e","./Check-d404a0fe","./Math-336da716","./RuntimeError-bf10f3d5"],function(t,o,e,i,l){"use strict";function g(t,e){var i={msgType:-1,sID:0,planeType:0,datTime:0,satTime:0,msgLen:0},a=o.defaultValue(e,0);return i.msgType=t.getUint16(a,!0),i.sID=t.getUint16(a+2,!0),i.planeType=t.getUint32(a+4,!0),i.datTime=s(t,a+8),i.satTime=s(t,a+16),i.msgLen=t.getUint16(a+24,!0),i}function s(t,e){var i=t.getUint32(e,!0),a=t.getUint32(e+4,!0),s=i+Math.pow(2,32)*a;return Number.isSafeInteger(s)||console.warn(s,"exceeds MAX_SAFE_INTEGER. Precision may be lost"),s}var a=Object.freeze({NET_MSG_MIN:-1,NET_MSG_FIGHTER:0,NET_MSG_COMMAND:1,NET_MSG_TSPI:2,NET_MSG_RDR_STATE:3,NET_MSG_EWS_STA:4,NET_MSG_TARGET:6,NET_MSG_IRST:9,NET_MSG_IRMSL_STATE:12,NET_MSG_RTSN:30,NET_MSG_RTKN:31,NET_MSG_WPN_TRAJ:32,NET_MSG_GTSPI:20,NET_MSG_RAD_STATE:21,NET_MSG_STATICTARGET:22,NET_MSG_COMBATPOWER:23,NET_MSG_LARGE_PLANE:35,NET_MSG_SAFETYALARM:40});function u(t,e,i){return e=o.defaultValue(e,0),i=o.defaultValue(i,t.byteLength-e),t=t.subarray(e,e+i),u.decode(t)}function f(t,e,i){return e<=t&&t<=i}function n(){this._array=[],this._hash={}}u.decodeWithTextDecoder=function(t){return new TextDecoder("utf-8").decode(t)},u.decodeWithFromCharCode=function(t){for(var e="",i=function(t){for(var e=0,i=0,a=0,s=128,n=191,h=[],r=t.length,o=0;o<r;++o){var g=t[o];if(0===a){if(f(g,0,127)){h.push(g);continue}if(f(g,194,223)){a=1,e=31&g;continue}if(f(g,224,239)){224===g&&(s=160),237===g&&(n=159),a=2,e=15&g;continue}if(f(g,240,244)){240===g&&(s=144),244===g&&(n=143),a=3,e=7&g;continue}throw new l.RuntimeError("String decoding failed.")}f(g,s,n)?(s=128,n=191,e=e<<6|63&g,++i===a&&(h.push(e),e=a=i=0)):(e=a=i=0,s=128,n=191,--o)}return h}(t),a=i.length,s=0;s<a;++s){var n=i[s];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return e},"undefined"!=typeof TextDecoder?u.decode=u.decodeWithTextDecoder:u.decode=u.decodeWithFromCharCode,Object.defineProperties(n.prototype,{length:{get:function(){return this._array.length}},values:{get:function(){return this._array}}}),n.prototype.contains=function(t){return o.defined(this._hash[t])},n.prototype.set=function(t,e){e!==this._hash[t]&&(this.remove(t),this._hash[t]=e,this._array.push(e))},n.prototype.get=function(t){return this._hash[t]},n.prototype.remove=function(t){var e,i=this._hash[t],a=o.defined(i);return a&&((e=this._array).splice(e.indexOf(i),1),delete this._hash[t]),a},n.prototype.removeAll=function(){var t=this._array;0<t.length&&(this._hash={},t.length=0)},t.EV_MsgType=a,t.EV_ParseCombatPower=function(t,e){this.SIZE=39,this.header=g(t,e);for(var i=26+o.defaultValue(e,0),a=[],s=0;s<7;s++)a.push(t.getInt8(i,!0)),i+=1;var n=String.fromCharCode(a[0],a[1]),h=new Int8Array(a.splice(2,5));for(n=(n=n+""+u.decodeWithTextDecoder(h)).replace(/\u0000/g,""),this.chFlyUser=n,a="",s=0;s<10;s++)a+=String.fromCharCode(t.getInt8(i,!0)),i+=1;this.chFighterName=a,this.nRedOrBlue=t.getUint8(i,!0),i+=1,this.remainMslNum=t.getUint8(i,!0),i+=1,this.remainChannelNum=t.getUint8(i,!0),i+=1,this.selfReliveFlag=t.getUint8(i,!0),i+=1,this.resetMslCountFlag=t.getUint8(i,!0),i+=1,this.trainMode=t.getUint8(i,!0)},t.EV_ParseEWS=function(t,e){this.SIZE=27,this.header=g(t,e);var i=26+o.defaultValue(e,0);this.ewsDir=t.getUint8(i,!0)},t.EV_ParseFlight=function(t,e){this.SIZE=57,this.header=g(t,e);var i=26+o.defaultValue(e,0);this.true_AOA=t.getFloat32(i,!0),i+=4,this.mach=t.getFloat32(i,!0),i+=4,this.normalAccel=t.getFloat32(i,!0),i+=4,this.trainMode=t.getUint8(i,!0),i+=1,this.cal_air_speed=t.getFloat32(i,!0),i+=4,this.baro_ref_alt=t.getFloat32(i,!0),i+=4,this.wireless_alt=t.getFloat32(i,!0),i+=4,this.remain_oil_amount=t.getFloat32(i,!0),i+=4,this.s2=t.getUint8(i,!0),i+=1,this.s3=t.getUint8(i,!0)},t.EV_ParseGTspi=function(t,e){this.SIZE=58,this.header=g(t,e);var i=26+o.defaultValue(e,0);this.fakeCampID=t.getUint8(i,!0),i+=1,this.campType=t.getInt32(i,!0),i+=4,this.equipmentType=t.getInt8(i,!0),i+=1,this.equipmentID=t.getInt8(i,!0),i+=1,this.gTspiState=t.getInt8(i,!0),i+=1,this.northAngle=t.getFloat32(i,!0),i+=4,this.gTspiAlt=t.getFloat32(i,!0),i+=4,this.gTspiLon=t.getFloat64(i,!0),i+=8,this.gTspiLat=t.getFloat64(i,!0)},t.EV_ParseHeader=g,t.EV_ParseI3NS=function(t,e){this.SIZE=96,this.header=g(t,e);var i=26+o.defaultValue(e,0);this.delayFlag=t.getUint8(i,!0),i+=1;for(var a=[],s=0;s<7;s++)a.push(t.getInt8(i,!0)),i+=1;var n=String.fromCharCode(a[0],a[1]),h=new Int8Array(a.splice(2,5));n=(n=n+""+u.decodeWithTextDecoder(h)).replace(/\u0000/g,""),this.chFlyUser=n;for(var r="",s=0;s<10;s++)r+=String.fromCharCode(t.getInt8(i,!0)),i+=1;r=r.replace(/\u0000/g,""),this.chFighterName=r,this.nRedOrBlue=t.getUint8(i,!0),i+=1,this.fLon=t.getFloat64(i,!0),i+=8,this.fLat=t.getFloat64(i,!0),i+=8,this.fAlt=t.getFloat32(i,!0),i+=4,this.fRoll=t.getFloat32(i,!0),i+=4,this.fPitch=t.getFloat32(i,!0),i+=4,this.fHeading=t.getFloat32(i,!0),i+=4,this.decoyDrop=t.getUint8(i,!0),i+=1,this.enginePower=t.getUint8(i,!0),i+=1,this.trainPro=t.getUint8(i,!0),i+=1,this.height=t.getFloat32(i,!0),i+=4,this.vel_east=t.getFloat32(i,!0),i+=4,this.vel_north=t.getFloat32(i,!0),i+=4,this.vel_up=t.getFloat32(i,!0)},t.EV_ParseI3NS_Deprecated=function(t,e){this.SIZE=95,this.header=g(t,e);for(var i=26+o.defaultValue(e,0),a=[],s=0;s<7;s++)a.push(t.getInt8(i,!0)),i+=1;var n=String.fromCharCode(a[0],a[1]),h=new Int8Array(a.splice(2,5));n=(n=n+""+u.decodeWithTextDecoder(h)).replace(/\u0000/g,""),this.chFlyUser=n;for(var r="",s=0;s<10;s++)r+=String.fromCharCode(t.getInt8(i,!0)),i+=1;this.chFighterName=r,this.nRedOrBlue=t.getUint8(i,!0),i+=1,this.fLon=t.getFloat64(i,!0),i+=8,this.fLat=t.getFloat64(i,!0),i+=8,this.fAlt=t.getFloat32(i,!0),i+=4,this.fRoll=t.getFloat32(i,!0),i+=4,this.fPitch=t.getFloat32(i,!0),i+=4,this.fHeading=t.getFloat32(i,!0),i+=4,this.decoyDrop=t.getUint8(i,!0),i+=1,this.enginePower=t.getUint8(i,!0),i+=1,this.trainPro=t.getUint8(i,!0),i+=1,this.height=t.getFloat32(i,!0),i+=4,this.vel_east=t.getFloat32(i,!0),i+=4,this.vel_north=t.getFloat32(i,!0),i+=4,this.vel_up=t.getFloat32(i,!0)},t.EV_ParseIRSTworkMode=function(t,e){this.SIZE=29,this.header=g(t,e);var i=26+o.defaultValue(e,0);this.workMode=t.getInt8(i,!0),i+=1,this.openState=t.getInt8(i,!0),i+=1,this.interceptState=t.getInt8(i,!0)},t.EV_ParseIrsmState=function(t,e){this.SIZE=38,this.header=g(t,e);var i=26+o.defaultValue(e,0);this.irmslAzimuth=t.getFloat32(i,!0),i+=4,this.irmslPitch=t.getFloat32(i,!0),i+=4,this.fDistance=t.getFloat32(i,!0)},t.EV_ParseLargePlane=function(t,e){this.SIZE=72,this.header=g(t,e);for(var i=26+o.defaultValue(e,0),a=[],s=0;s<7;s++)a.push(t.getInt8(i,!0)),i+=1;for(this.chFlyUser=a,a=[],s=0;s<10;s++)a.push(t.getInt8(i,!0)),i+=1;this.chFighterName=a,this.nRedOrBlue=t.getUint8(i,!0),i+=1,this.fLon=t.getFloat64(i,!0),i+=8,this.fLat=t.getFloat64(i,!0),i+=8,this.fAlt=t.getFloat32(i,!0),i+=4,this.fHeading=t.getFloat32(i,!0),i+=4,this.fVel=t.getFloat32(i,!0)},t.EV_ParseParam=function(t,e){this.SIZE=38,this.header=g(t,e);var i=26+o.defaultValue(e,0);this.mslType=t.getInt32(i,!0),i+=4,this.fHalfAngle=t.getFloat32(i,!0),i+=4,this.fMaxDistance=t.getFloat32(i,!0)},t.EV_ParseRTKN=function(t,e){this.SIZE=50,this.header=g(t,e);var i=26+o.defaultValue(e,0);this.nMissileID=t.getUint32(i,!0),i+=4,this.chWeaponType=t.getInt32(i,!0),i+=4,this.fDistance=t.getFloat32(i,!0),i+=4,this.nTgtID=t.getUint16(i,!0),i+=2,this.nResult=t.getUint8(i,!0),i+=1,this.stopReason=t.getUint8(i,!0);for(var a=[],s=0;s<4;s++)a.push(t.getInt8(i,!0)),i+=1;for(this.gTgtType=a,a=[],s=0;s<4;s++)a.push(t.getInt8(i,!0)),i+=1;this.gTgtID=a},t.EV_ParseRTSN=function(t,e){this.SIZE=35,this.header=g(t,e);var i=26+o.defaultValue(e,0);this.nMissileID=t.getUint32(i,!0),i+=4,this.chWeaponType=t.getInt32(i,!0),i+=4,this.dropMslNum=t.getUint8(i,!0)},t.EV_ParseRadarTarget=function(t,e){this.SIZE=139,this.header=new g(t,e);var i=26+o.defaultValue(e,0);this.tgtNum=t.getUint8(i,!0),i+=1,this.tgtInfo=[];for(var a=0;a<8;a++)this.tgtInfo.push({tgtNTS:0,tgtSensor:0,tgtAzimuth:0,tgtPitch:0,tgtDis:0});for(var s=0;s<8;s++)this.tgtInfo[s].tgtNTS=t.getUint8(i,!0),i+=1,this.tgtInfo[s].tgtSensor=t.getUint8(i,!0),i+=1,this.tgtInfo[s].tgtAzimuth=t.getFloat32(i,!0),i+=4,this.tgtInfo[s].tgtPitch=t.getFloat32(i,!0),i+=4,this.tgtInfo[s].tgtDis=t.getFloat32(i,!0),s<7&&(i+=4)},t.EV_ParseRadarWM=function(t,e){this.SIZE=29,this.header=new g(t,e);var i=26+o.defaultValue(e,0);this.workMode=t.getInt8(i,!0),i+=1,this.openState=t.getInt8(i,!0),i+=1,this.radiaState=t.getInt8(i,!0)},t.EV_ParseSDRState=function(t,e){this.SIZE=35,this.header=g(t,e);var i=26+o.defaultValue(e,0);this.campType=t.getInt32(i,!0),i+=4,this.equipmentType=t.getUint8(i,!0),i+=1,this.equipmentID=t.getUint8(i,!0),i+=1,this.openState=t.getUint8(i,!0),i+=1,this.antennaDirection=t.getUint16(i,!0)},t.EV_ParseSafetyAlarm=function(t,e){this.SIZE=10,this.header=g(t,e);var i=26+o.defaultValue(e,0);this.uiAlarmType=t.getUint16(i,!0),this.uiPlaneID=new Array(3),this.ucMeetType=new Array(3),this.uiMeetTimeLinear=new Array(3),this.uiMeetTimeSprial=new Array(3);for(var a=0;a<3;a++)this.uiPlaneID[a]=t.getUint16(i,!0),i+=2,this.ucMeetType[a]=t.getUint8(i,!0),i+=1,this.uiMeetTimeLinear[a]=t.getUint32(i,!0),i+=4,this.uiMeetTimeSprial[a]=t.getUint32(i,!0)},t.EV_ParseStartStop=function(t,e){this.SIZE=27,I3_NET_COMMAND.header=g(t,e);var i=26+o.defaultValue(e,0);I3_NET_COMMAND.state=t.getUint8(i,!0)},t.EV_ParseTRAJ=function(t,e){this.SIZE=77,this.header=g(t,e);var i=26+o.defaultValue(e,0);this.targetID=t.getUint16(i,!0),i+=2,this.weaponID=t.getUint32(i,!0),i+=4,this.weaponType=t.getInt32(i,!0),i+=4,this.engineState=t.getUint8(i,!0),i+=1,this.captureState=t.getUint8(i,!0),i+=1,this.mslLongitude=t.getFloat64(i,!0),i+=8,this.mslLatitude=t.getFloat64(i,!0),i+=8,this.mslAltitude=t.getFloat32(i,!0),i+=4,this.mslCourse=t.getFloat32(i,!0),i+=4,this.mslPitch=t.getFloat32(i,!0),i+=4,this.vel=t.getFloat32(i,!0),i+=4,this.mslDistance=t.getFloat32(i,!0),i+=4,this.targetTspiValid=t.getUint8(i,!0),i+=1,this.ipk=t.getUint8(i,!0),i+=1,this.noKkkReason=t.getUint8(i,!0)}});
