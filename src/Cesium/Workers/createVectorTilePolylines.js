define(["./when-b43ff45e","./Check-d404a0fe","./Math-336da716","./Cartesian3-2b5b9afe","./Cartesian2-577f67dc","./WebGLConstants-56de22c0","./AttributeCompression-c335d1ea","./IndexDatatype-c5295474","./createTaskProcessorWorker"],function(a,e,z,H,O,r,Y,Z,t){"use strict";var j,q=new O.Cartographic,J=new H.Cartesian3;var K=new O.Rectangle,Q=new O.Ellipsoid,V=new H.Cartesian3,X={min:void 0,max:void 0};var $=new H.Cartesian3,aa=new H.Cartesian3,ea=new H.Cartesian3,ra=new H.Cartesian3,ta=new H.Cartesian3;return t(function(a,e){var r=a.highPrecision?(j=2147483647,new Uint32Array(a.positions)):(j=32767,new Uint16Array(a.positions)),t=new Uint16Array(a.widths),n=new Uint32Array(a.counts),i=new Uint16Array(a.batchIds),s=new Float32Array(a.disableDepthTestDistance);!function(a){a=new Float64Array(a);var e=0;X.min=a[e++],X.max=a[e++],O.Rectangle.unpack(a,e,K),e+=O.Rectangle.packedLength,O.Ellipsoid.unpack(a,e,Q),e+=O.Ellipsoid.packedLength,H.Cartesian3.unpack(a,e,V)}(a.packedBuffer);for(var c=V,o=function(a,e,r,t,n){var i=a.length/3,s=a.subarray(0,i),c=a.subarray(i,2*i),o=a.subarray(2*i,3*i);Y.AttributeCompression.zigZagDeltaDecode(s,c,o);for(var u=new Float64Array(a.length),f=0;f<i;++f){var p=s[f],C=c[f],d=o[f],b=z.CesiumMath.lerp(e.west,e.east,p/j),h=z.CesiumMath.lerp(e.south,e.north,C/j),l=z.CesiumMath.lerp(r,t,d/j),w=O.Cartographic.fromRadians(b,h,l,q),y=n.cartographicToCartesian(w,J);H.Cartesian3.pack(y,u,3*f)}return u}(r,K,X.min,X.max,Q),u=o.length/3,f=4*u-4,p=new Float32Array(3*f),C=new Float32Array(3*f),d=new Float32Array(3*f),b=new Float32Array(3*f),h=new Uint16Array(f),l=new Float32Array(f),w=0,y=0,k=0,A=0,v=n.length,g=0;g<v;++g){for(var D,m,x,E=n[g],I=t[g],T=i[g],F=s[g],U=0;U<E;++U){0===U?(D=H.Cartesian3.unpack(o,3*A,$),m=H.Cartesian3.unpack(o,3*(A+1),aa),x=H.Cartesian3.subtract(D,m,ea),H.Cartesian3.add(D,x,x)):x=H.Cartesian3.unpack(o,3*(A+U-1),ea);var N,P,R,M=H.Cartesian3.unpack(o,3*(A+U),ra);U===E-1?(N=H.Cartesian3.unpack(o,3*(A+E-1),$),P=H.Cartesian3.unpack(o,3*(A+E-2),aa),R=H.Cartesian3.subtract(N,P,ta),H.Cartesian3.add(N,R,R)):R=H.Cartesian3.unpack(o,3*(A+U+1),ta),H.Cartesian3.subtract(x,c,x),H.Cartesian3.subtract(M,c,M),H.Cartesian3.subtract(R,c,R);for(var L=U===E-1?2:4,S=0===U?2:0;S<L;++S){H.Cartesian3.pack(M,p,w),H.Cartesian3.pack(x,C,w),H.Cartesian3.pack(R,d,w),w+=3;var _=S-2<0?-1:1;b[y++]=S%2*2-1,b[y++]=_*I,b[y++]=S/(E-1),l[k]=F,h[k++]=T}}A+=E}var G=Z.IndexDatatype.createTypedArray(f,6*u-6),W=0,B=0,v=u-1;for(g=0;g<v;++g)G[B++]=W,G[B++]=W+2,G[B++]=W+1,G[B++]=W+1,G[B++]=W+2,G[B++]=W+3,W+=4;return e.push(p.buffer,C.buffer,d.buffer),e.push(b.buffer,h.buffer,G.buffer),{indexDatatype:2===G.BYTES_PER_ELEMENT?Z.IndexDatatype.UNSIGNED_SHORT:Z.IndexDatatype.UNSIGNED_INT,currentPositions:p.buffer,previousPositions:C.buffer,nextPositions:d.buffer,expandAndWidth:b.buffer,batchIds:h.buffer,indices:G.buffer,disableDepthTestDistance:l.buffer}})});
