define(["exports","./when-b43ff45e","./Check-d404a0fe","./Math-336da716","./Cartesian3-c7287f49","./Cartesian2-9a499d77","./RuntimeError-bf10f3d5","./JulianDate-53cdb307","./RequestType-beb1291d"],function(e,I,i,X,P,c,Z,b,r){"use strict";function t(e){this._ellipsoid=I.defaultValue(e,c.Ellipsoid.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}Object.defineProperties(t.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),t.prototype.project=function(e,t){var n=this._semimajorAxis,r=e.longitude*n,a=e.latitude*n,i=e.height;return I.defined(t)?(t.x=r,t.y=a,t.z=i,t):new P.Cartesian3(r,a,i)},t.prototype.unproject=function(e,t){var n=this._oneOverSemimajorAxis,r=e.x*n,a=e.y*n,i=e.z;return I.defined(t)?(t.longitude=r,t.latitude=a,t.height=i,t):new c.Cartographic(r,a,i)};var s=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1});function o(e,t){this.start=I.defaultValue(e,0),this.stop=I.defaultValue(t,0)}function H(e,t,n,r,a,i,s,o,u){this[0]=I.defaultValue(e,0),this[1]=I.defaultValue(r,0),this[2]=I.defaultValue(s,0),this[3]=I.defaultValue(t,0),this[4]=I.defaultValue(a,0),this[5]=I.defaultValue(o,0),this[6]=I.defaultValue(n,0),this[7]=I.defaultValue(i,0),this[8]=I.defaultValue(u,0)}H.packedLength=9,H.pack=function(e,t,n){return n=I.defaultValue(n,0),t[n++]=e[0],t[n++]=e[1],t[n++]=e[2],t[n++]=e[3],t[n++]=e[4],t[n++]=e[5],t[n++]=e[6],t[n++]=e[7],t[n++]=e[8],t},H.unpack=function(e,t,n){return t=I.defaultValue(t,0),I.defined(n)||(n=new H),n[0]=e[t++],n[1]=e[t++],n[2]=e[t++],n[3]=e[t++],n[4]=e[t++],n[5]=e[t++],n[6]=e[t++],n[7]=e[t++],n[8]=e[t++],n},H.clone=function(e,t){if(I.defined(e))return I.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new H(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},H.fromArray=function(e,t,n){return t=I.defaultValue(t,0),I.defined(n)||(n=new H),n[0]=e[t],n[1]=e[t+1],n[2]=e[t+2],n[3]=e[t+3],n[4]=e[t+4],n[5]=e[t+5],n[6]=e[t+6],n[7]=e[t+7],n[8]=e[t+8],n},H.fromColumnMajorArray=function(e,t){return H.clone(e,t)},H.fromRowMajorArray=function(e,t){return I.defined(t)?(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],t):new H(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},H.fromQuaternion=function(e,t){var n=e.x*e.x,r=e.x*e.y,a=e.x*e.z,i=e.x*e.w,s=e.y*e.y,o=e.y*e.z,u=e.y*e.w,l=e.z*e.z,d=e.z*e.w,c=e.w*e.w,f=n-s-l+c,h=2*(r-d),p=2*(a+u),m=2*(r+d),y=s-n-l+c,v=2*(o-i),C=2*(a-u),w=2*(o+i),x=-n-s+l+c;return I.defined(t)?(t[0]=f,t[1]=m,t[2]=C,t[3]=h,t[4]=y,t[5]=w,t[6]=p,t[7]=v,t[8]=x,t):new H(f,h,p,m,y,v,C,w,x)},H.fromHeadingPitchRoll=function(e,t){var n=Math.cos(-e.pitch),r=Math.cos(-e.heading),a=Math.cos(e.roll),i=Math.sin(-e.pitch),s=Math.sin(-e.heading),o=Math.sin(e.roll),u=n*r,l=-a*s+o*i*r,d=o*s+a*i*r,c=n*s,f=a*r+o*i*s,h=-o*r+a*i*s,p=-i,m=o*n,y=a*n;return I.defined(t)?(t[0]=u,t[1]=c,t[2]=p,t[3]=l,t[4]=f,t[5]=m,t[6]=d,t[7]=h,t[8]=y,t):new H(u,l,d,c,f,h,p,m,y)},H.fromScale=function(e,t){return I.defined(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=e.y,t[5]=0,t[6]=0,t[7]=0,t[8]=e.z,t):new H(e.x,0,0,0,e.y,0,0,0,e.z)},H.fromUniformScale=function(e,t){return I.defined(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=e,t):new H(e,0,0,0,e,0,0,0,e)},H.fromCrossProduct=function(e,t){return I.defined(t)?(t[0]=0,t[1]=e.z,t[2]=-e.y,t[3]=-e.z,t[4]=0,t[5]=e.x,t[6]=e.y,t[7]=-e.x,t[8]=0,t):new H(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},H.fromRotationX=function(e,t){var n=Math.cos(e),r=Math.sin(e);return I.defined(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=n,t[5]=r,t[6]=0,t[7]=-r,t[8]=n,t):new H(1,0,0,0,n,-r,0,r,n)},H.fromRotationY=function(e,t){var n=Math.cos(e),r=Math.sin(e);return I.defined(t)?(t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=1,t[5]=0,t[6]=r,t[7]=0,t[8]=n,t):new H(n,0,r,0,1,0,-r,0,n)},H.fromRotationZ=function(e,t){var n=Math.cos(e),r=Math.sin(e);return I.defined(t)?(t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new H(n,-r,0,r,n,0,0,0,1)},H.toArray=function(e,t){return I.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},H.getElementIndex=function(e,t){return 3*e+t},H.getColumn=function(e,t,n){var r=3*t,a=e[r],i=e[1+r],s=e[2+r];return n.x=a,n.y=i,n.z=s,n},H.setColumn=function(e,t,n,r){var a=3*t;return(r=H.clone(e,r))[a]=n.x,r[1+a]=n.y,r[2+a]=n.z,r},H.getRow=function(e,t,n){var r=e[t],a=e[t+3],i=e[t+6];return n.x=r,n.y=a,n.z=i,n},H.setRow=function(e,t,n,r){return(r=H.clone(e,r))[t]=n.x,r[t+3]=n.y,r[t+6]=n.z,r};var n=new P.Cartesian3;H.getScale=function(e,t){return t.x=P.Cartesian3.magnitude(P.Cartesian3.fromElements(e[0],e[1],e[2],n)),t.y=P.Cartesian3.magnitude(P.Cartesian3.fromElements(e[3],e[4],e[5],n)),t.z=P.Cartesian3.magnitude(P.Cartesian3.fromElements(e[6],e[7],e[8],n)),t};var a=new P.Cartesian3;H.getMaximumScale=function(e){return H.getScale(e,a),P.Cartesian3.maximumComponent(a)},H.multiply=function(e,t,n){var r=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],a=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],i=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],s=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],o=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],u=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],l=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],d=e[1]*t[6]+e[4]*t[7]+e[7]*t[8],c=e[2]*t[6]+e[5]*t[7]+e[8]*t[8];return n[0]=r,n[1]=a,n[2]=i,n[3]=s,n[4]=o,n[5]=u,n[6]=l,n[7]=d,n[8]=c,n},H.add=function(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n},H.subtract=function(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n},H.multiplyByVector=function(e,t,n){var r=t.x,a=t.y,i=t.z,s=e[0]*r+e[3]*a+e[6]*i,o=e[1]*r+e[4]*a+e[7]*i,u=e[2]*r+e[5]*a+e[8]*i;return n.x=s,n.y=o,n.z=u,n},H.multiplyByScalar=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n},H.multiplyByScale=function(e,t,n){return n[0]=e[0]*t.x,n[1]=e[1]*t.x,n[2]=e[2]*t.x,n[3]=e[3]*t.y,n[4]=e[4]*t.y,n[5]=e[5]*t.y,n[6]=e[6]*t.z,n[7]=e[7]*t.z,n[8]=e[8]*t.z,n},H.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t},H.transpose=function(e,t){var n=e[0],r=e[3],a=e[6],i=e[1],s=e[4],o=e[7],u=e[2],l=e[5],d=e[8];return t[0]=n,t[1]=r,t[2]=a,t[3]=i,t[4]=s,t[5]=o,t[6]=u,t[7]=l,t[8]=d,t};var u=new P.Cartesian3(1,1,1);H.getRotation=function(e,t){var n=P.Cartesian3.divideComponents(u,H.getScale(e,a),a);return t=H.multiplyByScale(e,n,t)};var h=[1,0,0],p=[2,2,1];function l(e){for(var t=0,n=0;n<3;++n){var r=e[H.getElementIndex(p[n],h[n])];t+=2*r*r}return Math.sqrt(t)}function d(e,t){for(var n=X.CesiumMath.EPSILON15,r=0,a=1,i=0;i<3;++i){var s=Math.abs(e[H.getElementIndex(p[i],h[i])]);r<s&&(a=i,r=s)}var o,u,l=1,d=0,c=h[a],f=p[a];return Math.abs(e[H.getElementIndex(f,c)])>n&&(d=(u=(o=(e[H.getElementIndex(f,f)]-e[H.getElementIndex(c,c)])/2/e[H.getElementIndex(f,c)])<0?-1/(-o+Math.sqrt(1+o*o)):1/(o+Math.sqrt(1+o*o)))*(l=1/Math.sqrt(1+u*u))),(t=H.clone(H.IDENTITY,t))[H.getElementIndex(c,c)]=t[H.getElementIndex(f,f)]=l,t[H.getElementIndex(f,c)]=d,t[H.getElementIndex(c,f)]=-d,t}var f=new H,m=new H;function Q(e,t,n,r){this.x=I.defaultValue(e,0),this.y=I.defaultValue(t,0),this.z=I.defaultValue(n,0),this.w=I.defaultValue(r,0)}H.computeEigenDecomposition=function(e,t){var n=X.CesiumMath.EPSILON20,r=0,a=0;I.defined(t)||(t={});for(var i=t.unitary=H.clone(H.IDENTITY,t.unitary),s=t.diagonal=H.clone(e,t.diagonal),o=n*function(e){for(var t=0,n=0;n<9;++n){var r=e[n];t+=r*r}return Math.sqrt(t)}(s);a<10&&l(s)>o;)d(s,f),H.transpose(f,m),H.multiply(s,f,s),H.multiply(m,s,s),H.multiply(i,f,i),2<++r&&(++a,r=0);return t},H.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t},H.determinant=function(e){var t=e[0],n=e[3],r=e[6],a=e[1],i=e[4],s=e[7],o=e[2],u=e[5],l=e[8];return t*(i*l-u*s)+a*(u*r-n*l)+o*(n*s-i*r)},H.inverse=function(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],s=e[4],o=e[5],u=e[6],l=e[7],d=e[8],c=H.determinant(e);return t[0]=s*d-l*o,t[1]=l*a-r*d,t[2]=r*o-s*a,t[3]=u*o-i*d,t[4]=n*d-u*a,t[5]=i*a-n*o,t[6]=i*l-u*s,t[7]=u*r-n*l,t[8]=n*s-i*r,H.multiplyByScalar(t,1/c,t)},H.equals=function(e,t){return e===t||I.defined(e)&&I.defined(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},H.equalsEpsilon=function(e,t,n){return e===t||I.defined(e)&&I.defined(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n&&Math.abs(e[4]-t[4])<=n&&Math.abs(e[5]-t[5])<=n&&Math.abs(e[6]-t[6])<=n&&Math.abs(e[7]-t[7])<=n&&Math.abs(e[8]-t[8])<=n},H.IDENTITY=Object.freeze(new H(1,0,0,0,1,0,0,0,1)),H.ZERO=Object.freeze(new H(0,0,0,0,0,0,0,0,0)),H.COLUMN0ROW0=0,H.COLUMN0ROW1=1,H.COLUMN0ROW2=2,H.COLUMN1ROW0=3,H.COLUMN1ROW1=4,H.COLUMN1ROW2=5,H.COLUMN2ROW0=6,H.COLUMN2ROW1=7,H.COLUMN2ROW2=8,Object.defineProperties(H.prototype,{length:{get:function(){return H.packedLength}}}),H.prototype.clone=function(e){return H.clone(this,e)},H.prototype.equals=function(e){return H.equals(this,e)},H.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]},H.prototype.equalsEpsilon=function(e,t){return H.equalsEpsilon(this,e,t)},H.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+")\n("+this[1]+", "+this[4]+", "+this[7]+")\n("+this[2]+", "+this[5]+", "+this[8]+")"},Q.fromElements=function(e,t,n,r,a){return I.defined(a)?(a.x=e,a.y=t,a.z=n,a.w=r,a):new Q(e,t,n,r)},Q.fromColor=function(e,t){return I.defined(t)?(t.x=e.red,t.y=e.green,t.z=e.blue,t.w=e.alpha,t):new Q(e.red,e.green,e.blue,e.alpha)},Q.clone=function(e,t){if(I.defined(e))return I.defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new Q(e.x,e.y,e.z,e.w)},Q.packedLength=4,Q.pack=function(e,t,n){return n=I.defaultValue(n,0),t[n++]=e.x,t[n++]=e.y,t[n++]=e.z,t[n]=e.w,t},Q.unpack=function(e,t,n){return t=I.defaultValue(t,0),I.defined(n)||(n=new Q),n.x=e[t++],n.y=e[t++],n.z=e[t++],n.w=e[t],n},Q.packArray=function(e,t){var n=e.length,r=4*n;if(I.defined(t)){if(!Array.isArray(t)&&t.length!==r)throw new i.DeveloperError("If result is a typed array, it must have exactly array.length * 4 elements");t.length!==r&&(t.length=r)}else t=new Array(r);for(var a=0;a<n;++a)Q.pack(e[a],t,4*a);return t},Q.unpackArray=function(e,t){var n=e.length;I.defined(t)?t.length=n/4:t=new Array(n/4);for(var r=0;r<n;r+=4){var a=r/4;t[a]=Q.unpack(e,r,t[a])}return t},Q.fromArray=Q.unpack,Q.maximumComponent=function(e){return Math.max(e.x,e.y,e.z,e.w)},Q.minimumComponent=function(e){return Math.min(e.x,e.y,e.z,e.w)},Q.minimumByComponent=function(e,t,n){return n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n.z=Math.min(e.z,t.z),n.w=Math.min(e.w,t.w),n},Q.maximumByComponent=function(e,t,n){return n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.z=Math.max(e.z,t.z),n.w=Math.max(e.w,t.w),n},Q.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},Q.magnitude=function(e){return Math.sqrt(Q.magnitudeSquared(e))};var y=new Q;Q.distance=function(e,t){return Q.subtract(e,t,y),Q.magnitude(y)},Q.distanceSquared=function(e,t){return Q.subtract(e,t,y),Q.magnitudeSquared(y)},Q.normalize=function(e,t){var n=Q.magnitude(e);return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t.w=e.w/n,t},Q.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},Q.multiplyComponents=function(e,t,n){return n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z,n.w=e.w*t.w,n},Q.divideComponents=function(e,t,n){return n.x=e.x/t.x,n.y=e.y/t.y,n.z=e.z/t.z,n.w=e.w/t.w,n},Q.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n.w=e.w+t.w,n},Q.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n.w=e.w-t.w,n},Q.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n.w=e.w*t,n},Q.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n.w=e.w/t,n},Q.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},Q.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t.w=Math.abs(e.w),t};var v=new Q;Q.lerp=function(e,t,n,r){return Q.multiplyByScalar(t,n,v),r=Q.multiplyByScalar(e,1-n,r),Q.add(v,r,r)};var C=new Q;Q.mostOrthogonalAxis=function(e,t){var n=Q.normalize(e,C);return Q.abs(n,n),t=n.x<=n.y?n.x<=n.z?n.x<=n.w?Q.clone(Q.UNIT_X,t):Q.clone(Q.UNIT_W,t):n.z<=n.w?Q.clone(Q.UNIT_Z,t):Q.clone(Q.UNIT_W,t):n.y<=n.z?n.y<=n.w?Q.clone(Q.UNIT_Y,t):Q.clone(Q.UNIT_W,t):n.z<=n.w?Q.clone(Q.UNIT_Z,t):Q.clone(Q.UNIT_W,t)},Q.equals=function(e,t){return e===t||I.defined(e)&&I.defined(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},Q.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]&&e.w===t[n+3]},Q.equalsEpsilon=function(e,t,n,r){return e===t||I.defined(e)&&I.defined(t)&&X.CesiumMath.equalsEpsilon(e.x,t.x,n,r)&&X.CesiumMath.equalsEpsilon(e.y,t.y,n,r)&&X.CesiumMath.equalsEpsilon(e.z,t.z,n,r)&&X.CesiumMath.equalsEpsilon(e.w,t.w,n,r)},Q.ZERO=Object.freeze(new Q(0,0,0,0)),Q.UNIT_X=Object.freeze(new Q(1,0,0,0)),Q.UNIT_Y=Object.freeze(new Q(0,1,0,0)),Q.UNIT_Z=Object.freeze(new Q(0,0,1,0)),Q.UNIT_W=Object.freeze(new Q(0,0,0,1)),Q.prototype.clone=function(e){return Q.clone(this,e)},Q.prototype.equals=function(e){return Q.equals(this,e)},Q.prototype.equalsEpsilon=function(e,t,n){return Q.equalsEpsilon(this,e,t,n)},Q.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"};var w=new Float32Array(1),x=256;function G(e,t,n,r,a,i,s,o,u,l,d,c,f,h,p,m){this[0]=I.defaultValue(e,0),this[1]=I.defaultValue(a,0),this[2]=I.defaultValue(u,0),this[3]=I.defaultValue(f,0),this[4]=I.defaultValue(t,0),this[5]=I.defaultValue(i,0),this[6]=I.defaultValue(l,0),this[7]=I.defaultValue(h,0),this[8]=I.defaultValue(n,0),this[9]=I.defaultValue(s,0),this[10]=I.defaultValue(d,0),this[11]=I.defaultValue(p,0),this[12]=I.defaultValue(r,0),this[13]=I.defaultValue(o,0),this[14]=I.defaultValue(c,0),this[15]=I.defaultValue(m,0)}function g(e){return 0<e?1:e<0?-1:0}Q.packFloat=function(e,t){if(I.defined(t)||(t=new Q),w[0]=e,0===(e=w[0]))return Q.clone(Q.ZERO,t);var n,r=e<0?1:0;isFinite(e)?(e=Math.abs(e),n=Math.floor(X.CesiumMath.logBase(e,10))+1,e/=Math.pow(10,n)):(e=.1,n=38);var a=e*x;return t.x=Math.floor(a),a=(a-t.x)*x,t.y=Math.floor(a),a=(a-t.y)*x,t.z=Math.floor(a),t.w=2*(n+38)+r,t},Q.unpackFloat=function(e){var t=e.w/2,n=Math.floor(t),r=-(r=2*(r=2*(t-n))-1);if(38<=(n-=38))return r<0?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY;var a=r*e.x*.00390625;return a+=r*e.y*(1/65536),(a+=r*e.z*(1/16777216))*Math.pow(10,n)},G.packedLength=16,G.computeReflection=function(e,t,n,r,a){return I.defined(a)||(a=new G),a[0]=1-2*e*e,a[1]=-2*e*t,a[2]=-2*e*n,a[3]=0,a[4]=-2*t*e,a[5]=1-2*t*t,a[6]=-2*t*n,a[7]=0,a[8]=-2*n*e,a[9]=-2*n*t,a[10]=1-2*n*n,a[11]=0,a[12]=-2*r*e,a[13]=-2*r*t,a[14]=-2*r*n,a[15]=1,a},G.computeObliquePerspective=function(e,t,n){var r=G.inverse(n,new G),a=G.inverseTranspose(t,new G),i=G.multiplyByVector(a,e,new Q),s=new Q(g(i.x),g(i.y),1,1),o=G.multiplyByVector(r,s,new Q),u=2/Q.dot(i,o),l=[i.x*u,i.y*u,i.z*u+1,i.w*u];return new G(n[0],n[4],n[8],n[12],n[1],n[5],n[9],n[13],l[0],l[1],l[2],l[3],n[3],n[7],n[11],n[15])},G.inverseTranspose=function(e,t){return G.inverse(G.transpose(e,new G),t)},G.pack=function(e,t,n){return n=I.defaultValue(n,0),t[n++]=e[0],t[n++]=e[1],t[n++]=e[2],t[n++]=e[3],t[n++]=e[4],t[n++]=e[5],t[n++]=e[6],t[n++]=e[7],t[n++]=e[8],t[n++]=e[9],t[n++]=e[10],t[n++]=e[11],t[n++]=e[12],t[n++]=e[13],t[n++]=e[14],t[n]=e[15],t},G.unpack=function(e,t,n){return t=I.defaultValue(t,0),I.defined(n)||(n=new G),n[0]=e[t++],n[1]=e[t++],n[2]=e[t++],n[3]=e[t++],n[4]=e[t++],n[5]=e[t++],n[6]=e[t++],n[7]=e[t++],n[8]=e[t++],n[9]=e[t++],n[10]=e[t++],n[11]=e[t++],n[12]=e[t++],n[13]=e[t++],n[14]=e[t++],n[15]=e[t],n},G.clone=function(e,t){if(I.defined(e))return I.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):new G(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},G.fromArray=G.unpack,G.fromColumnMajorArray=function(e,t){return G.clone(e,t)},G.fromRowMajorArray=function(e,t){return I.defined(t)?(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t):new G(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},G.fromRotationTranslation=function(e,t,n){return t=I.defaultValue(t,P.Cartesian3.ZERO),I.defined(n)?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=0,n[4]=e[3],n[5]=e[4],n[6]=e[5],n[7]=0,n[8]=e[6],n[9]=e[7],n[10]=e[8],n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,n):new G(e[0],e[3],e[6],t.x,e[1],e[4],e[7],t.y,e[2],e[5],e[8],t.z,0,0,0,1)},G.fromTranslationQuaternionRotationScale=function(e,t,n,r){I.defined(r)||(r=new G);var a=n.x,i=n.y,s=n.z,o=t.x*t.x,u=t.x*t.y,l=t.x*t.z,d=t.x*t.w,c=t.y*t.y,f=t.y*t.z,h=t.y*t.w,p=t.z*t.z,m=t.z*t.w,y=t.w*t.w,v=o-c-p+y,C=2*(u-m),w=2*(l+h),x=2*(u+m),g=c-o-p+y,_=2*(f-d),E=2*(l-h),M=2*(f+d),O=-o-c+p+y;return r[0]=v*a,r[1]=x*a,r[2]=E*a,r[3]=0,r[4]=C*i,r[5]=g*i,r[6]=M*i,r[7]=0,r[8]=w*s,r[9]=_*s,r[10]=O*s,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,r},G.fromTranslationRotationScale=function(e,t){return G.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},G.fromTranslation=function(e,t){return G.fromRotationTranslation(H.IDENTITY,e,t)},G.fromScale=function(e,t){return I.defined(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new G(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},G.fromUniformScale=function(e,t){return I.defined(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new G(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)};var _=new P.Cartesian3,E=new P.Cartesian3,M=new P.Cartesian3;G.fromCamera=function(e,t){var n=e.position,r=e.direction,a=e.up;P.Cartesian3.normalize(r,_),P.Cartesian3.normalize(P.Cartesian3.cross(_,a,E),E),P.Cartesian3.normalize(P.Cartesian3.cross(E,_,M),M);var i=E.x,s=E.y,o=E.z,u=_.x,l=_.y,d=_.z,c=M.x,f=M.y,h=M.z,p=n.x,m=n.y,y=n.z,v=i*-p+s*-m+o*-y,C=c*-p+f*-m+h*-y,w=u*p+l*m+d*y;return I.defined(t)?(t[0]=i,t[1]=c,t[2]=-u,t[3]=0,t[4]=s,t[5]=f,t[6]=-l,t[7]=0,t[8]=o,t[9]=h,t[10]=-d,t[11]=0,t[12]=v,t[13]=C,t[14]=w,t[15]=1,t):new G(i,s,o,v,c,f,h,C,-u,-l,-d,w,0,0,0,1)},G.computePerspectiveFieldOfView=function(e,t,n,r,a){var i=1/Math.tan(.5*e),s=i/t,o=(r+n)/(n-r),u=2*r*n/(n-r);return a[0]=s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=i,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=o,a[11]=-1,a[12]=0,a[13]=0,a[14]=u,a[15]=0,a},G.computeOrthographicOffCenter=function(e,t,n,r,a,i,s){var o=1/(t-e),u=1/(r-n),l=1/(i-a),d=-(t+e)*o,c=-(r+n)*u,f=-(i+a)*l;return o*=2,u*=2,l*=-2,s[0]=o,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=u,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=l,s[11]=0,s[12]=d,s[13]=c,s[14]=f,s[15]=1,s},G.computePerspectiveOffCenter=function(e,t,n,r,a,i,s){var o=2*a/(t-e),u=2*a/(r-n),l=(t+e)/(t-e),d=(r+n)/(r-n),c=-(i+a)/(i-a),f=-2*i*a/(i-a);return s[0]=o,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=u,s[6]=0,s[7]=0,s[8]=l,s[9]=d,s[10]=c,s[11]=-1,s[12]=0,s[13]=0,s[14]=f,s[15]=0,s},G.computeInfinitePerspectiveOffCenter=function(e,t,n,r,a,i){var s=2*a/(t-e),o=2*a/(r-n),u=(t+e)/(t-e),l=(r+n)/(r-n),d=-2*a;return i[0]=s,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=o,i[6]=0,i[7]=0,i[8]=u,i[9]=l,i[10]=-1,i[11]=-1,i[12]=0,i[13]=0,i[14]=d,i[15]=0,i},G.computeViewportTransformation=function(e,t,n,r){e=I.defaultValue(e,I.defaultValue.EMPTY_OBJECT);var a=I.defaultValue(e.x,0),i=I.defaultValue(e.y,0),s=I.defaultValue(e.width,0),o=I.defaultValue(e.height,0);t=I.defaultValue(t,0);var u=.5*s,l=.5*o,d=.5*((n=I.defaultValue(n,1))-t),c=l,f=d,h=a+u,p=i+l,m=t+d;return r[0]=u,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=c,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=f,r[11]=0,r[12]=h,r[13]=p,r[14]=m,r[15]=1,r},G.computeView=function(e,t,n,r,a){return a[0]=r.x,a[1]=n.x,a[2]=-t.x,a[3]=0,a[4]=r.y,a[5]=n.y,a[6]=-t.y,a[7]=0,a[8]=r.z,a[9]=n.z,a[10]=-t.z,a[11]=0,a[12]=-P.Cartesian3.dot(r,e),a[13]=-P.Cartesian3.dot(n,e),a[14]=P.Cartesian3.dot(t,e),a[15]=1,a},G.toArray=function(e,t){return I.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},G.getElementIndex=function(e,t){return 4*e+t},G.getColumn=function(e,t,n){var r=4*t,a=e[r],i=e[1+r],s=e[2+r],o=e[3+r];return n.x=a,n.y=i,n.z=s,n.w=o,n},G.setColumn=function(e,t,n,r){var a=4*t;return(r=G.clone(e,r))[a]=n.x,r[1+a]=n.y,r[2+a]=n.z,r[3+a]=n.w,r},G.setTranslation=function(e,t,n){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=e[15],n};var O=new P.Cartesian3;G.setScale=function(e,t,n){var r=G.getScale(e,O),a=P.Cartesian3.divideComponents(t,r,O);return G.multiplyByScale(e,a,n)},G.getRow=function(e,t,n){var r=e[t],a=e[t+4],i=e[t+8],s=e[t+12];return n.x=r,n.y=a,n.z=i,n.w=s,n},G.setRow=function(e,t,n,r){return(r=G.clone(e,r))[t]=n.x,r[t+4]=n.y,r[t+8]=n.z,r[t+12]=n.w,r};var R=new P.Cartesian3;G.getScale=function(e,t){return t.x=P.Cartesian3.magnitude(P.Cartesian3.fromElements(e[0],e[1],e[2],R)),t.y=P.Cartesian3.magnitude(P.Cartesian3.fromElements(e[4],e[5],e[6],R)),t.z=P.Cartesian3.magnitude(P.Cartesian3.fromElements(e[8],e[9],e[10],R)),t};var q=new P.Cartesian3;G.getMaximumScale=function(e){return G.getScale(e,q),P.Cartesian3.maximumComponent(q)},G.multiply=function(e,t,n){var r=e[0],a=e[1],i=e[2],s=e[3],o=e[4],u=e[5],l=e[6],d=e[7],c=e[8],f=e[9],h=e[10],p=e[11],m=e[12],y=e[13],v=e[14],C=e[15],w=t[0],x=t[1],g=t[2],_=t[3],E=t[4],M=t[5],O=t[6],b=t[7],R=t[8],q=t[9],S=t[10],z=t[11],A=t[12],T=t[13],I=t[14],P=t[15],U=r*w+o*x+c*g+m*_,N=a*w+u*x+f*g+y*_,V=i*w+l*x+h*g+v*_,F=s*w+d*x+p*g+C*_,D=r*E+o*M+c*O+m*b,j=a*E+u*M+f*O+y*b,W=i*E+l*M+h*O+v*b,B=s*E+d*M+p*O+C*b,L=r*R+o*q+c*S+m*z,k=a*R+u*q+f*S+y*z,J=i*R+l*q+h*S+v*z,Y=s*R+d*q+p*S+C*z,X=r*A+o*T+c*I+m*P,Z=a*A+u*T+f*I+y*P,H=i*A+l*T+h*I+v*P,Q=s*A+d*T+p*I+C*P;return n[0]=U,n[1]=N,n[2]=V,n[3]=F,n[4]=D,n[5]=j,n[6]=W,n[7]=B,n[8]=L,n[9]=k,n[10]=J,n[11]=Y,n[12]=X,n[13]=Z,n[14]=H,n[15]=Q,n},G.add=function(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n[9]=e[9]+t[9],n[10]=e[10]+t[10],n[11]=e[11]+t[11],n[12]=e[12]+t[12],n[13]=e[13]+t[13],n[14]=e[14]+t[14],n[15]=e[15]+t[15],n},G.subtract=function(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n[9]=e[9]-t[9],n[10]=e[10]-t[10],n[11]=e[11]-t[11],n[12]=e[12]-t[12],n[13]=e[13]-t[13],n[14]=e[14]-t[14],n[15]=e[15]-t[15],n},G.multiplyTransformation=function(e,t,n){var r=e[0],a=e[1],i=e[2],s=e[4],o=e[5],u=e[6],l=e[8],d=e[9],c=e[10],f=e[12],h=e[13],p=e[14],m=t[0],y=t[1],v=t[2],C=t[4],w=t[5],x=t[6],g=t[8],_=t[9],E=t[10],M=t[12],O=t[13],b=t[14],R=r*m+s*y+l*v,q=a*m+o*y+d*v,S=i*m+u*y+c*v,z=r*C+s*w+l*x,A=a*C+o*w+d*x,T=i*C+u*w+c*x,I=r*g+s*_+l*E,P=a*g+o*_+d*E,U=i*g+u*_+c*E,N=r*M+s*O+l*b+f,V=a*M+o*O+d*b+h,F=i*M+u*O+c*b+p;return n[0]=R,n[1]=q,n[2]=S,n[3]=0,n[4]=z,n[5]=A,n[6]=T,n[7]=0,n[8]=I,n[9]=P,n[10]=U,n[11]=0,n[12]=N,n[13]=V,n[14]=F,n[15]=1,n},G.multiplyByMatrix3=function(e,t,n){var r=e[0],a=e[1],i=e[2],s=e[4],o=e[5],u=e[6],l=e[8],d=e[9],c=e[10],f=t[0],h=t[1],p=t[2],m=t[3],y=t[4],v=t[5],C=t[6],w=t[7],x=t[8],g=r*f+s*h+l*p,_=a*f+o*h+d*p,E=i*f+u*h+c*p,M=r*m+s*y+l*v,O=a*m+o*y+d*v,b=i*m+u*y+c*v,R=r*C+s*w+l*x,q=a*C+o*w+d*x,S=i*C+u*w+c*x;return n[0]=g,n[1]=_,n[2]=E,n[3]=0,n[4]=M,n[5]=O,n[6]=b,n[7]=0,n[8]=R,n[9]=q,n[10]=S,n[11]=0,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n},G.multiplyByTranslation=function(e,t,n){var r=t.x,a=t.y,i=t.z,s=r*e[0]+a*e[4]+i*e[8]+e[12],o=r*e[1]+a*e[5]+i*e[9]+e[13],u=r*e[2]+a*e[6]+i*e[10]+e[14];return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=s,n[13]=o,n[14]=u,n[15]=e[15],n};var S=new P.Cartesian3;G.multiplyByUniformScale=function(e,t,n){return S.x=t,S.y=t,S.z=t,G.multiplyByScale(e,S,n)},G.multiplyByScale=function(e,t,n){var r=t.x,a=t.y,i=t.z;return 1===r&&1===a&&1===i?G.clone(e,n):(n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=0,n[4]=a*e[4],n[5]=a*e[5],n[6]=a*e[6],n[7]=0,n[8]=i*e[8],n[9]=i*e[9],n[10]=i*e[10],n[11]=0,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=1,n)},G.multiplyByVector=function(e,t,n){var r=t.x,a=t.y,i=t.z,s=t.w,o=e[0]*r+e[4]*a+e[8]*i+e[12]*s,u=e[1]*r+e[5]*a+e[9]*i+e[13]*s,l=e[2]*r+e[6]*a+e[10]*i+e[14]*s,d=e[3]*r+e[7]*a+e[11]*i+e[15]*s;return n.x=o,n.y=u,n.z=l,n.w=d,n},G.multiplyByPointAsVector=function(e,t,n){var r=t.x,a=t.y,i=t.z,s=e[0]*r+e[4]*a+e[8]*i,o=e[1]*r+e[5]*a+e[9]*i,u=e[2]*r+e[6]*a+e[10]*i;return n.x=s,n.y=o,n.z=u,n},G.multiplyByPoint=function(e,t,n){var r=t.x,a=t.y,i=t.z,s=e[0]*r+e[4]*a+e[8]*i+e[12],o=e[1]*r+e[5]*a+e[9]*i+e[13],u=e[2]*r+e[6]*a+e[10]*i+e[14];return n.x=s,n.y=o,n.z=u,n},G.multiplyByScalar=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11]*t,n[12]=e[12]*t,n[13]=e[13]*t,n[14]=e[14]*t,n[15]=e[15]*t,n},G.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},G.transpose=function(e,t){var n=e[1],r=e[2],a=e[3],i=e[6],s=e[7],o=e[11];return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[10]=e[10],t[11]=e[14],t[12]=a,t[13]=s,t[14]=o,t[15]=e[15],t},G.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t[9]=Math.abs(e[9]),t[10]=Math.abs(e[10]),t[11]=Math.abs(e[11]),t[12]=Math.abs(e[12]),t[13]=Math.abs(e[13]),t[14]=Math.abs(e[14]),t[15]=Math.abs(e[15]),t},G.equals=function(e,t){return e===t||I.defined(e)&&I.defined(t)&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[3]===t[3]&&e[7]===t[7]&&e[11]===t[11]&&e[15]===t[15]},G.equalsEpsilon=function(e,t,n){return e===t||I.defined(e)&&I.defined(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n&&Math.abs(e[4]-t[4])<=n&&Math.abs(e[5]-t[5])<=n&&Math.abs(e[6]-t[6])<=n&&Math.abs(e[7]-t[7])<=n&&Math.abs(e[8]-t[8])<=n&&Math.abs(e[9]-t[9])<=n&&Math.abs(e[10]-t[10])<=n&&Math.abs(e[11]-t[11])<=n&&Math.abs(e[12]-t[12])<=n&&Math.abs(e[13]-t[13])<=n&&Math.abs(e[14]-t[14])<=n&&Math.abs(e[15]-t[15])<=n},G.getTranslation=function(e,t){return t.x=e[12],t.y=e[13],t.z=e[14],t},G.getMatrix3=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t};var K=new H,$=new H,ee=new Q,te=new Q(0,0,0,1);function U(e,t){this.center=P.Cartesian3.clone(I.defaultValue(e,P.Cartesian3.ZERO)),this.radius=I.defaultValue(t,0)}G.inverse=function(e,t){var n=e[0],r=e[4],a=e[8],i=e[12],s=e[1],o=e[5],u=e[9],l=e[13],d=e[2],c=e[6],f=e[10],h=e[14],p=e[3],m=e[7],y=e[11],v=e[15],C=f*v,w=h*y,x=c*v,g=h*m,_=c*y,E=f*m,M=d*v,O=h*p,b=d*y,R=f*p,q=d*m,S=c*p,z=C*o+g*u+_*l-(w*o+x*u+E*l),A=w*s+M*u+R*l-(C*s+O*u+b*l),T=x*s+O*o+q*l-(g*s+M*o+S*l),I=E*s+b*o+S*u-(_*s+R*o+q*u),P=w*r+x*a+E*i-(C*r+g*a+_*i),U=C*n+O*a+b*i-(w*n+M*a+R*i),N=g*n+M*r+S*i-(x*n+O*r+q*i),V=_*n+R*r+q*a-(E*n+b*r+S*a),F=(C=a*l)*m+(g=i*o)*y+(_=r*u)*v-((w=i*u)*m+(x=r*l)*y+(E=a*o)*v),D=w*p+(M=n*l)*y+(R=a*s)*v-(C*p+(O=i*s)*y+(b=n*u)*v),j=x*p+O*m+(q=n*o)*v-(g*p+M*m+(S=r*s)*v),W=E*p+b*m+S*y-(_*p+R*m+q*y),B=x*f+E*h+w*c-(_*h+C*c+g*f),L=b*h+C*d+O*f-(M*f+R*h+w*d),k=M*c+S*h+g*d-(q*h+x*d+O*c),J=q*f+_*d+R*c-(b*c+S*f+E*d),Y=n*z+r*A+a*T+i*I;if(Math.abs(Y)<X.CesiumMath.EPSILON21){if(H.equalsEpsilon(G.getMatrix3(e,K),$,X.CesiumMath.EPSILON7)&&Q.equals(G.getRow(e,3,ee),te))return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=1,t;throw new Z.RuntimeError("matrix is not invertible because its determinate is zero.")}return Y=1/Y,t[0]=z*Y,t[1]=A*Y,t[2]=T*Y,t[3]=I*Y,t[4]=P*Y,t[5]=U*Y,t[6]=N*Y,t[7]=V*Y,t[8]=F*Y,t[9]=D*Y,t[10]=j*Y,t[11]=W*Y,t[12]=B*Y,t[13]=L*Y,t[14]=k*Y,t[15]=J*Y,t},G.inverseTransformation=function(e,t){var n=e[0],r=e[1],a=e[2],i=e[4],s=e[5],o=e[6],u=e[8],l=e[9],d=e[10],c=e[12],f=e[13],h=e[14],p=-n*c-r*f-a*h,m=-i*c-s*f-o*h,y=-u*c-l*f-d*h;return t[0]=n,t[1]=i,t[2]=u,t[3]=0,t[4]=r,t[5]=s,t[6]=l,t[7]=0,t[8]=a,t[9]=o,t[10]=d,t[11]=0,t[12]=p,t[13]=m,t[14]=y,t[15]=1,t},G.IDENTITY=Object.freeze(new G(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),G.ZERO=Object.freeze(new G(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),G.COLUMN0ROW0=0,G.COLUMN0ROW1=1,G.COLUMN0ROW2=2,G.COLUMN0ROW3=3,G.COLUMN1ROW0=4,G.COLUMN1ROW1=5,G.COLUMN1ROW2=6,G.COLUMN1ROW3=7,G.COLUMN2ROW0=8,G.COLUMN2ROW1=9,G.COLUMN2ROW2=10,G.COLUMN2ROW3=11,G.COLUMN3ROW0=12,G.COLUMN3ROW1=13,G.COLUMN3ROW2=14,G.COLUMN3ROW3=15,Object.defineProperties(G.prototype,{length:{get:function(){return G.packedLength}}}),G.prototype.clone=function(e){return G.clone(this,e)},G.prototype.equals=function(e){return G.equals(this,e)},G.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]&&e[9]===t[n+9]&&e[10]===t[n+10]&&e[11]===t[n+11]&&e[12]===t[n+12]&&e[13]===t[n+13]&&e[14]===t[n+14]&&e[15]===t[n+15]},G.prototype.equalsEpsilon=function(e,t){return G.equalsEpsilon(this,e,t)},G.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+")\n("+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+")\n("+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+")\n("+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"};var N=new P.Cartesian3,V=new P.Cartesian3,F=new P.Cartesian3,D=new P.Cartesian3,j=new P.Cartesian3,W=new P.Cartesian3,B=new P.Cartesian3,L=new P.Cartesian3,k=new P.Cartesian3,J=new P.Cartesian3,Y=new P.Cartesian3,ne=new P.Cartesian3,z=4/3*X.CesiumMath.PI;U.fromPoints=function(e,t){if(I.defined(t)||(t=new U),!I.defined(e)||0===e.length)return t.center=P.Cartesian3.clone(P.Cartesian3.ZERO,t.center),t.radius=0,t;for(var n=P.Cartesian3.clone(e[0],B),r=P.Cartesian3.clone(n,N),a=P.Cartesian3.clone(n,V),i=P.Cartesian3.clone(n,F),s=P.Cartesian3.clone(n,D),o=P.Cartesian3.clone(n,j),u=P.Cartesian3.clone(n,W),l=e.length,d=1;d<l;d++){P.Cartesian3.clone(e[d],n);var c=n.x,f=n.y,h=n.z;c<r.x&&P.Cartesian3.clone(n,r),c>s.x&&P.Cartesian3.clone(n,s),f<a.y&&P.Cartesian3.clone(n,a),f>o.y&&P.Cartesian3.clone(n,o),h<i.z&&P.Cartesian3.clone(n,i),h>u.z&&P.Cartesian3.clone(n,u)}var p=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(s,r,L)),m=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(o,a,L)),y=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(u,i,L)),v=r,C=s,w=p;w<m&&(w=m,v=a,C=o),w<y&&(w=y,v=i,C=u);var x=k;x.x=.5*(v.x+C.x),x.y=.5*(v.y+C.y),x.z=.5*(v.z+C.z);var g=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(C,x,L)),_=Math.sqrt(g),E=J;E.x=r.x,E.y=a.y,E.z=i.z;var M=Y;M.x=s.x,M.y=o.y,M.z=u.z;var O=P.Cartesian3.midpoint(E,M,ne),b=0;for(d=0;d<l;d++){P.Cartesian3.clone(e[d],n);var R=P.Cartesian3.magnitude(P.Cartesian3.subtract(n,O,L));b<R&&(b=R);var q,S,z=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(n,x,L));g<z&&(g=(_=.5*(_+(q=Math.sqrt(z))))*_,S=q-_,x.x=(_*x.x+S*n.x)/q,x.y=(_*x.y+S*n.y)/q,x.z=(_*x.z+S*n.z)/q)}return _<b?(P.Cartesian3.clone(x,t.center),t.radius=_):(P.Cartesian3.clone(O,t.center),t.radius=b),t};var A=new t,T=new P.Cartesian3,re=new P.Cartesian3,ae=new c.Cartographic,ie=new c.Cartographic;U.fromRectangle2D=function(e,t,n){return U.fromRectangleWithHeights2D(e,t,0,0,n)},U.fromRectangleWithHeights2D=function(e,t,n,r,a){if(I.defined(a)||(a=new U),!I.defined(e))return a.center=P.Cartesian3.clone(P.Cartesian3.ZERO,a.center),a.radius=0,a;t=I.defaultValue(t,A),c.Rectangle.southwest(e,ae),ae.height=n,c.Rectangle.northeast(e,ie),ie.height=r;var i=t.project(ae,T),s=t.project(ie,re),o=s.x-i.x,u=s.y-i.y,l=s.z-i.z;a.radius=.5*Math.sqrt(o*o+u*u+l*l);var d=a.center;return d.x=i.x+.5*o,d.y=i.y+.5*u,d.z=i.z+.5*l,a};var se=[];U.fromRectangle3D=function(e,t,n,r){if(t=I.defaultValue(t,c.Ellipsoid.WGS84),n=I.defaultValue(n,0),I.defined(r)||(r=new U),!I.defined(e))return r.center=P.Cartesian3.clone(P.Cartesian3.ZERO,r.center),r.radius=0,r;var a=c.Rectangle.subsample(e,t,n,se);return U.fromPoints(a,r)},U.fromVertices=function(e,t,n,r){if(I.defined(r)||(r=new U),!I.defined(e)||0===e.length)return r.center=P.Cartesian3.clone(P.Cartesian3.ZERO,r.center),r.radius=0,r;t=I.defaultValue(t,P.Cartesian3.ZERO),n=I.defaultValue(n,3);var a=B;a.x=e[0]+t.x,a.y=e[1]+t.y,a.z=e[2]+t.z;for(var i=P.Cartesian3.clone(a,N),s=P.Cartesian3.clone(a,V),o=P.Cartesian3.clone(a,F),u=P.Cartesian3.clone(a,D),l=P.Cartesian3.clone(a,j),d=P.Cartesian3.clone(a,W),c=e.length,f=0;f<c;f+=n){var h=e[f]+t.x,p=e[f+1]+t.y,m=e[f+2]+t.z;a.x=h,a.y=p,a.z=m,h<i.x&&P.Cartesian3.clone(a,i),h>u.x&&P.Cartesian3.clone(a,u),p<s.y&&P.Cartesian3.clone(a,s),p>l.y&&P.Cartesian3.clone(a,l),m<o.z&&P.Cartesian3.clone(a,o),m>d.z&&P.Cartesian3.clone(a,d)}var y=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(u,i,L)),v=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(l,s,L)),C=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(d,o,L)),w=i,x=u,g=y;g<v&&(g=v,w=s,x=l),g<C&&(g=C,w=o,x=d);var _=k;_.x=.5*(w.x+x.x),_.y=.5*(w.y+x.y),_.z=.5*(w.z+x.z);var E=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(x,_,L)),M=Math.sqrt(E),O=J;O.x=i.x,O.y=s.y,O.z=o.z;var b=Y;b.x=u.x,b.y=l.y,b.z=d.z;var R=P.Cartesian3.midpoint(O,b,ne),q=0;for(f=0;f<c;f+=n){a.x=e[f]+t.x,a.y=e[f+1]+t.y,a.z=e[f+2]+t.z;var S=P.Cartesian3.magnitude(P.Cartesian3.subtract(a,R,L));q<S&&(q=S);var z,A,T=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(a,_,L));E<T&&(E=(M=.5*(M+(z=Math.sqrt(T))))*M,A=z-M,_.x=(M*_.x+A*a.x)/z,_.y=(M*_.y+A*a.y)/z,_.z=(M*_.z+A*a.z)/z)}return M<q?(P.Cartesian3.clone(_,r.center),r.radius=M):(P.Cartesian3.clone(R,r.center),r.radius=q),r},U.fromEncodedCartesianVertices=function(e,t,n){if(I.defined(n)||(n=new U),!I.defined(e)||!I.defined(t)||e.length!==t.length||0===e.length)return n.center=P.Cartesian3.clone(P.Cartesian3.ZERO,n.center),n.radius=0,n;var r=B;r.x=e[0]+t[0],r.y=e[1]+t[1],r.z=e[2]+t[2];for(var a=P.Cartesian3.clone(r,N),i=P.Cartesian3.clone(r,V),s=P.Cartesian3.clone(r,F),o=P.Cartesian3.clone(r,D),u=P.Cartesian3.clone(r,j),l=P.Cartesian3.clone(r,W),d=e.length,c=0;c<d;c+=3){var f=e[c]+t[c],h=e[c+1]+t[c+1],p=e[c+2]+t[c+2];r.x=f,r.y=h,r.z=p,f<a.x&&P.Cartesian3.clone(r,a),f>o.x&&P.Cartesian3.clone(r,o),h<i.y&&P.Cartesian3.clone(r,i),h>u.y&&P.Cartesian3.clone(r,u),p<s.z&&P.Cartesian3.clone(r,s),p>l.z&&P.Cartesian3.clone(r,l)}var m=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(o,a,L)),y=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(u,i,L)),v=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(l,s,L)),C=a,w=o,x=m;x<y&&(x=y,C=i,w=u),x<v&&(x=v,C=s,w=l);var g=k;g.x=.5*(C.x+w.x),g.y=.5*(C.y+w.y),g.z=.5*(C.z+w.z);var _=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(w,g,L)),E=Math.sqrt(_),M=J;M.x=a.x,M.y=i.y,M.z=s.z;var O=Y;O.x=o.x,O.y=u.y,O.z=l.z;var b=P.Cartesian3.midpoint(M,O,ne),R=0;for(c=0;c<d;c+=3){r.x=e[c]+t[c],r.y=e[c+1]+t[c+1],r.z=e[c+2]+t[c+2];var q=P.Cartesian3.magnitude(P.Cartesian3.subtract(r,b,L));R<q&&(R=q);var S,z,A=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(r,g,L));_<A&&(_=(E=.5*(E+(S=Math.sqrt(A))))*E,z=S-E,g.x=(E*g.x+z*r.x)/S,g.y=(E*g.y+z*r.y)/S,g.z=(E*g.z+z*r.z)/S)}return E<R?(P.Cartesian3.clone(g,n.center),n.radius=E):(P.Cartesian3.clone(b,n.center),n.radius=R),n},U.fromCornerPoints=function(e,t,n){I.defined(n)||(n=new U);var r=P.Cartesian3.midpoint(e,t,n.center);return n.radius=P.Cartesian3.distance(r,t),n},U.fromEllipsoid=function(e,t){return I.defined(t)||(t=new U),P.Cartesian3.clone(P.Cartesian3.ZERO,t.center),t.radius=e.maximumRadius,t};var oe=new P.Cartesian3;U.fromBoundingSpheres=function(e,t){if(I.defined(t)||(t=new U),!I.defined(e)||0===e.length)return t.center=P.Cartesian3.clone(P.Cartesian3.ZERO,t.center),t.radius=0,t;var n=e.length;if(1===n)return U.clone(e[0],t);if(2===n)return U.union(e[0],e[1],t);for(var r=[],a=0;a<n;a++)r.push(e[a].center);var i=(t=U.fromPoints(r,t)).center,s=t.radius;for(a=0;a<n;a++)var o=e[a],s=Math.max(s,P.Cartesian3.distance(i,o.center,oe)+o.radius);return t.radius=s,t};var ue=new P.Cartesian3,le=new P.Cartesian3,de=new P.Cartesian3;U.fromOrientedBoundingBox=function(e,t){I.defined(t)||(t=new U);var n=e.halfAxes,r=H.getColumn(n,0,ue),a=H.getColumn(n,1,le),i=H.getColumn(n,2,de);return P.Cartesian3.add(r,a,r),P.Cartesian3.add(r,i,r),t.center=P.Cartesian3.clone(e.center,t.center),t.radius=P.Cartesian3.magnitude(r),t},U.clone=function(e,t){if(I.defined(e))return I.defined(t)?(t.center=P.Cartesian3.clone(e.center,t.center),t.radius=e.radius,t):new U(e.center,e.radius)},U.packedLength=4,U.pack=function(e,t,n){n=I.defaultValue(n,0);var r=e.center;return t[n++]=r.x,t[n++]=r.y,t[n++]=r.z,t[n]=e.radius,t},U.unpack=function(e,t,n){t=I.defaultValue(t,0),I.defined(n)||(n=new U);var r=n.center;return r.x=e[t++],r.y=e[t++],r.z=e[t++],n.radius=e[t],n};var ce=new P.Cartesian3,fe=new P.Cartesian3;U.union=function(e,t,n){I.defined(n)||(n=new U);var r=e.center,a=e.radius,i=t.center,s=t.radius,o=P.Cartesian3.subtract(i,r,ce),u=P.Cartesian3.magnitude(o);if(u+s<=a)return e.clone(n),n;if(u+a<=s)return t.clone(n),n;var l=.5*(a+u+s),d=P.Cartesian3.multiplyByScalar(o,(l-a)/u,fe);return P.Cartesian3.add(d,r,d),P.Cartesian3.clone(d,n.center),n.radius=l,n};var he=new P.Cartesian3;U.expand=function(e,t,n){n=U.clone(e,n);var r=P.Cartesian3.magnitude(P.Cartesian3.subtract(t,n.center,he));return r>n.radius&&(n.radius=r),n},U.intersectPlane=function(e,t){var n=e.center,r=e.radius,a=t.normal,i=P.Cartesian3.dot(a,n)+t.distance;return i<-r?s.OUTSIDE:i<r?s.INTERSECTING:s.INSIDE},U.transform=function(e,t,n){return I.defined(n)||(n=new U),n.center=G.multiplyByPoint(t,e.center,n.center),n.radius=G.getMaximumScale(t)*e.radius,n};var pe=new P.Cartesian3;U.distanceSquaredTo=function(e,t){var n=P.Cartesian3.subtract(e.center,t,pe);return P.Cartesian3.magnitudeSquared(n)-e.radius*e.radius},U.transformWithoutScale=function(e,t,n){return I.defined(n)||(n=new U),n.center=G.multiplyByPoint(t,e.center,n.center),n.radius=e.radius,n};var me=new P.Cartesian3;U.computePlaneDistances=function(e,t,n,r){I.defined(r)||(r=new o);var a=P.Cartesian3.subtract(e.center,t,me),i=P.Cartesian3.dot(n,a);return r.start=i-e.radius,r.stop=i+e.radius,r};for(var ye=new P.Cartesian3,ve=new P.Cartesian3,Ce=new P.Cartesian3,we=new P.Cartesian3,xe=new P.Cartesian3,ge=new c.Cartographic,_e=new Array(8),Ee=0;Ee<8;++Ee)_e[Ee]=new P.Cartesian3;var Me,Oe=new t;U.projectTo2D=function(e,t,n){var r=(t=I.defaultValue(t,Oe)).ellipsoid,a=e.center,i=e.radius,s=P.Cartesian3.equals(a,P.Cartesian3.ZERO)?P.Cartesian3.clone(P.Cartesian3.UNIT_X,ye):r.geodeticSurfaceNormal(a,ye),o=P.Cartesian3.cross(P.Cartesian3.UNIT_Z,s,ve);P.Cartesian3.normalize(o,o);var u=P.Cartesian3.cross(s,o,Ce);P.Cartesian3.normalize(u,u),P.Cartesian3.multiplyByScalar(s,i,s),P.Cartesian3.multiplyByScalar(u,i,u),P.Cartesian3.multiplyByScalar(o,i,o);var l=P.Cartesian3.negate(u,xe),d=P.Cartesian3.negate(o,we),c=_e,f=c[0];P.Cartesian3.add(s,u,f),P.Cartesian3.add(f,o,f),f=c[1],P.Cartesian3.add(s,u,f),P.Cartesian3.add(f,d,f),f=c[2],P.Cartesian3.add(s,l,f),P.Cartesian3.add(f,d,f),f=c[3],P.Cartesian3.add(s,l,f),P.Cartesian3.add(f,o,f),P.Cartesian3.negate(s,s),f=c[4],P.Cartesian3.add(s,u,f),P.Cartesian3.add(f,o,f),f=c[5],P.Cartesian3.add(s,u,f),P.Cartesian3.add(f,d,f),f=c[6],P.Cartesian3.add(s,l,f),P.Cartesian3.add(f,d,f),f=c[7],P.Cartesian3.add(s,l,f),P.Cartesian3.add(f,o,f);for(var h=c.length,p=0;p<h;++p){var m=c[p];P.Cartesian3.add(a,m,m);var y=r.cartesianToCartographic(m,ge);t.project(y,m)}var v=(a=(n=U.fromPoints(c,n)).center).x,C=a.y,w=a.z;return a.x=w,a.y=v,a.z=C,n},U.isOccluded=function(e,t){return!t.isBoundingSphereVisible(e)},U.equals=function(e,t){return e===t||I.defined(e)&&I.defined(t)&&P.Cartesian3.equals(e.center,t.center)&&e.radius===t.radius},U.prototype.intersectPlane=function(e){return U.intersectPlane(this,e)},U.prototype.distanceSquaredTo=function(e){return U.distanceSquaredTo(this,e)},U.prototype.computePlaneDistances=function(e,t,n){return U.computePlaneDistances(this,e,t,n)},U.prototype.isOccluded=function(e){return U.isOccluded(this,e)},U.prototype.equals=function(e){return U.equals(this,e)},U.prototype.clone=function(e){return U.clone(this,e)},U.prototype.volume=function(){var e=this.radius;return z*e*e*e};var be,Re,qe,Se,ze,Ae,Te,Ie,Pe,Ue,Ne,Ve,Fe,De,je,We,Be,Le={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},ke={};function Je(e){for(var t=e.split("."),n=0,r=t.length;n<r;++n)t[n]=parseInt(t[n],10);return t}function Ye(){var e;return I.defined(Re)||(Re=!1,Qe()||null!==(e=/ Chrome\/([\.0-9]+)/.exec(be.userAgent))&&(Re=!0,qe=Je(e[1]))),Re}function Xe(){var e;return I.defined(Se)||(Se=!1,Ye()||Qe()||!/ Safari\/[\.0-9]+/.test(be.userAgent)||null!==(e=/ Version\/([\.0-9]+)/.exec(be.userAgent))&&(Se=!0,ze=Je(e[1]))),Se}function Ze(){var e;return I.defined(Ae)||(Ae=!1,null!==(e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(be.userAgent))&&(Ae=!0,(Te=Je(e[1])).isNightly=!!e[2])),Ae}function He(){var e;return I.defined(Ie)||(Ie=!1,"Microsoft Internet Explorer"===be.appName?null!==(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(be.userAgent))&&(Ie=!0,Pe=Je(e[1])):"Netscape"===be.appName&&null!==(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(be.userAgent))&&(Ie=!0,Pe=Je(e[1]))),Ie}function Qe(){var e;return I.defined(Ue)||(Ue=!1,null!==(e=/ Edge\/([\.0-9]+)/.exec(be.userAgent))&&(Ue=!0,Ne=Je(e[1]))),Ue}function Ge(){var e;return I.defined(Ve)||(Ve=!1,null!==(e=/Firefox\/([\.0-9]+)/.exec(be.userAgent))&&(Ve=!0,Fe=Je(e[1]))),Ve}function Ke(){var e,t;return I.defined(Be)||((e=document.createElement("canvas")).setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;"),t=e.style.imageRendering,(Be=I.defined(t)&&""!==t)&&(We=t)),Be}function $e(){return $e._result}Object.defineProperties(ke,{element:{get:function(){if(ke.supportsFullscreen())return document[Le.fullscreenElement]}},changeEventName:{get:function(){if(ke.supportsFullscreen())return Le.fullscreenchange}},errorEventName:{get:function(){if(ke.supportsFullscreen())return Le.fullscreenerror}},enabled:{get:function(){if(ke.supportsFullscreen())return document[Le.fullscreenEnabled]}},fullscreen:{get:function(){if(ke.supportsFullscreen())return null!==ke.element}}}),ke.supportsFullscreen=function(){if(I.defined(Me))return Me;Me=!1;var e=document.body;if("function"==typeof e.requestFullscreen)return Le.requestFullscreen="requestFullscreen",Le.exitFullscreen="exitFullscreen",Le.fullscreenEnabled="fullscreenEnabled",Le.fullscreenElement="fullscreenElement",Le.fullscreenchange="fullscreenchange",Le.fullscreenerror="fullscreenerror",Me=!0;for(var t=["webkit","moz","o","ms","khtml"],n=0,r=t.length;n<r;++n){var a,i=t[n];"function"!=typeof e[a=i+"RequestFullscreen"]&&"function"!=typeof e[a=i+"RequestFullScreen"]||(Le.requestFullscreen=a,Me=!0),a=i+"ExitFullscreen","function"==typeof document[a]?Le.exitFullscreen=a:(a=i+"CancelFullScreen","function"==typeof document[a]&&(Le.exitFullscreen=a)),a=i+"FullscreenEnabled",void 0!==document[a]?Le.fullscreenEnabled=a:(a=i+"FullScreenEnabled",void 0!==document[a]&&(Le.fullscreenEnabled=a)),a=i+"FullscreenElement",void 0!==document[a]?Le.fullscreenElement=a:(a=i+"FullScreenElement",void 0!==document[a]&&(Le.fullscreenElement=a)),a=i+"fullscreenchange",void 0!==document["on"+a]&&("ms"===i&&(a="MSFullscreenChange"),Le.fullscreenchange=a),a=i+"fullscreenerror",void 0!==document["on"+a]&&("ms"===i&&(a="MSFullscreenError"),Le.fullscreenerror=a)}return Me},ke.requestFullscreen=function(e,t){ke.supportsFullscreen()&&e[Le.requestFullscreen]({vrDisplay:t})},ke.exitFullscreen=function(){ke.supportsFullscreen()&&document[Le.exitFullscreen]()},ke._names=Le,be="undefined"!=typeof navigator?navigator:{},$e._promise=void 0,$e._result=void 0,$e.initialize=function(){if(I.defined($e._promise))return $e._promise;var e=I.when.defer();if($e._promise=e.promise,Qe())return $e._result=!1,e.resolve($e._result),e.promise;var t=new Image;return t.onload=function(){$e._result=0<t.width&&0<t.height,e.resolve($e._result)},t.onerror=function(){$e._result=!1,e.resolve($e._result)},t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.promise},Object.defineProperties($e,{initialized:{get:function(){return I.defined($e._result)}}});var et=[];"undefined"!=typeof ArrayBuffer&&(et.push(Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array),"undefined"!=typeof Uint8ClampedArray&&et.push(Uint8ClampedArray),"undefined"!=typeof CanvasPixelArray&&et.push(CanvasPixelArray));var tt={isChrome:Ye,chromeVersion:function(){return Ye()&&qe},isSafari:Xe,safariVersion:function(){return Xe()&&ze},isWebkit:Ze,webkitVersion:function(){return Ze()&&Te},isInternetExplorer:He,internetExplorerVersion:function(){return He()&&Pe},isEdge:Qe,edgeVersion:function(){return Qe()&&Ne},isFirefox:Ge,firefoxVersion:function(){return Ge()&&Fe},isWindows:function(){return I.defined(De)||(De=/Windows/i.test(be.appVersion)),De},hardwareConcurrency:I.defaultValue(be.hardwareConcurrency,3),supportsPointerEvents:function(){return I.defined(je)||(je=!Ge()&&"undefined"!=typeof PointerEvent&&(!I.defined(be.pointerEnabled)||be.pointerEnabled)),je},supportsImageRenderingPixelated:Ke,supportsWebP:$e,imageRenderingValue:function(){return Ke()?We:void 0},typedArrayTypes:et};function nt(e,t,n,r){this.x=I.defaultValue(e,0),this.y=I.defaultValue(t,0),this.z=I.defaultValue(n,0),this.w=I.defaultValue(r,0)}tt.supportsFullscreen=function(){return ke.supportsFullscreen()},tt.supportsTypedArrays=function(){return"undefined"!=typeof ArrayBuffer},tt.supportsWebWorkers=function(){return"undefined"!=typeof Worker},tt.supportsWebAssembly=function(){return"undefined"!=typeof WebAssembly&&!tt.isEdge()};var rt=new P.Cartesian3;nt.fromAxisAngle=function(e,t,n){var r=t/2,a=Math.sin(r),i=(rt=P.Cartesian3.normalize(e,rt)).x*a,s=rt.y*a,o=rt.z*a,u=Math.cos(r);return I.defined(n)?(n.x=i,n.y=s,n.z=o,n.w=u,n):new nt(i,s,o,u)};var at=[1,2,0],it=new Array(3);nt.fromRotationMatrix=function(e,t){var n,r,a,i,s,o,u,l,d=e[H.COLUMN0ROW0],c=e[H.COLUMN1ROW1],f=e[H.COLUMN2ROW2],h=d+c+f,p=0<h?(a=.5*(u=Math.sqrt(h+1)),u=.5/u,n=(e[H.COLUMN1ROW2]-e[H.COLUMN2ROW1])*u,r=(e[H.COLUMN2ROW0]-e[H.COLUMN0ROW2])*u,(e[H.COLUMN0ROW1]-e[H.COLUMN1ROW0])*u):(o=at[s=at[i=d<f&&c<f?2:d<c?1:0]],u=Math.sqrt(e[H.getElementIndex(i,i)]-e[H.getElementIndex(s,s)]-e[H.getElementIndex(o,o)]+1),(l=it)[i]=.5*u,u=.5/u,a=(e[H.getElementIndex(o,s)]-e[H.getElementIndex(s,o)])*u,l[s]=(e[H.getElementIndex(s,i)]+e[H.getElementIndex(i,s)])*u,l[o]=(e[H.getElementIndex(o,i)]+e[H.getElementIndex(i,o)])*u,n=-l[0],r=-l[1],-l[2]);return I.defined(t)?(t.x=n,t.y=r,t.z=p,t.w=a,t):new nt(n,r,p,a)};var st=new nt,ot=new nt,ut=new nt,lt=new nt;nt.fromHeadingPitchRoll=function(e,t){return lt=nt.fromAxisAngle(P.Cartesian3.UNIT_X,e.roll,st),ut=nt.fromAxisAngle(P.Cartesian3.UNIT_Y,-e.pitch,t),t=nt.multiply(ut,lt,ut),ot=nt.fromAxisAngle(P.Cartesian3.UNIT_Z,-e.heading,st),nt.multiply(ot,t,t)};var dt=new P.Cartesian3,ct=new P.Cartesian3,ft=new nt,ht=new nt,pt=new nt;nt.packedLength=4,nt.pack=function(e,t,n){return n=I.defaultValue(n,0),t[n++]=e.x,t[n++]=e.y,t[n++]=e.z,t[n]=e.w,t},nt.unpack=function(e,t,n){return t=I.defaultValue(t,0),I.defined(n)||(n=new nt),n.x=e[t],n.y=e[t+1],n.z=e[t+2],n.w=e[t+3],n},nt.packedInterpolationLength=3,nt.convertPackedArrayForInterpolation=function(e,t,n,r){nt.unpack(e,4*n,pt),nt.conjugate(pt,pt);for(var a=0,i=n-t+1;a<i;a++){var s=3*a;nt.unpack(e,4*(t+a),ft),nt.multiply(ft,pt,ft),ft.w<0&&nt.negate(ft,ft),nt.computeAxis(ft,dt);var o=nt.computeAngle(ft);r[s]=dt.x*o,r[1+s]=dt.y*o,r[2+s]=dt.z*o}},nt.unpackInterpolationResult=function(e,t,n,r,a){I.defined(a)||(a=new nt),P.Cartesian3.fromArray(e,0,ct);var i=P.Cartesian3.magnitude(ct);return nt.unpack(t,4*r,ht),0===i?nt.clone(nt.IDENTITY,ft):nt.fromAxisAngle(ct,i,ft),nt.multiply(ft,ht,a)},nt.clone=function(e,t){if(I.defined(e))return I.defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new nt(e.x,e.y,e.z,e.w)},nt.conjugate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=e.w,t},nt.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},nt.magnitude=function(e){return Math.sqrt(nt.magnitudeSquared(e))},nt.normalize=function(e,t){var n=1/nt.magnitude(e),r=e.x*n,a=e.y*n,i=e.z*n,s=e.w*n;return t.x=r,t.y=a,t.z=i,t.w=s,t},nt.inverse=function(e,t){var n=nt.magnitudeSquared(e);return t=nt.conjugate(e,t),nt.multiplyByScalar(t,1/n,t)},nt.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n.w=e.w+t.w,n},nt.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n.w=e.w-t.w,n},nt.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},nt.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},nt.multiply=function(e,t,n){var r=e.x,a=e.y,i=e.z,s=e.w,o=t.x,u=t.y,l=t.z,d=t.w,c=s*o+r*d+a*l-i*u,f=s*u-r*l+a*d+i*o,h=s*l+r*u-a*o+i*d,p=s*d-r*o-a*u-i*l;return n.x=c,n.y=f,n.z=h,n.w=p,n},nt.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n.w=e.w*t,n},nt.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n.w=e.w/t,n},nt.computeAxis=function(e,t){var n=e.w;if(Math.abs(n-1)<X.CesiumMath.EPSILON6)return t.x=t.y=t.z=0,t;var r=1/Math.sqrt(1-n*n);return t.x=e.x*r,t.y=e.y*r,t.z=e.z*r,t},nt.computeAngle=function(e){return Math.abs(e.w-1)<X.CesiumMath.EPSILON6?0:2*Math.acos(e.w)};var mt=new nt;nt.lerp=function(e,t,n,r){return mt=nt.multiplyByScalar(t,n,mt),r=nt.multiplyByScalar(e,1-n,r),nt.add(mt,r,r)};var yt=new nt,vt=new nt,Ct=new nt;nt.slerp=function(e,t,n,r){var a=nt.dot(e,t),i=t;if(a<0&&(a=-a,i=yt=nt.negate(t,yt)),1-a<X.CesiumMath.EPSILON6)return nt.lerp(e,i,n,r);var s=Math.acos(a);return vt=nt.multiplyByScalar(e,Math.sin((1-n)*s),vt),Ct=nt.multiplyByScalar(i,Math.sin(n*s),Ct),r=nt.add(vt,Ct,r),nt.multiplyByScalar(r,1/Math.sin(s),r)},nt.log=function(e,t){var n=X.CesiumMath.acosClamped(e.w),r=0;return 0!==n&&(r=n/Math.sin(n)),P.Cartesian3.multiplyByScalar(e,r,t)},nt.exp=function(e,t){var n=P.Cartesian3.magnitude(e),r=0;return 0!==n&&(r=Math.sin(n)/n),t.x=e.x*r,t.y=e.y*r,t.z=e.z*r,t.w=Math.cos(n),t};var wt=new P.Cartesian3,xt=new P.Cartesian3,gt=new nt,_t=new nt;nt.computeInnerQuadrangle=function(e,t,n,r){var a=nt.conjugate(t,gt);nt.multiply(a,n,_t);var i=nt.log(_t,wt);nt.multiply(a,e,_t);var s=nt.log(_t,xt);return P.Cartesian3.add(i,s,i),P.Cartesian3.multiplyByScalar(i,.25,i),P.Cartesian3.negate(i,i),nt.exp(i,gt),nt.multiply(t,gt,r)},nt.squad=function(e,t,n,r,a,i){var s=nt.slerp(e,t,a,gt),o=nt.slerp(n,r,a,_t);return nt.slerp(s,o,2*a*(1-a),i)};for(var Et=new nt,Mt=1.9011074535173003,Ot=tt.supportsTypedArrays()?new Float32Array(8):[],bt=tt.supportsTypedArrays()?new Float32Array(8):[],Rt=tt.supportsTypedArrays()?new Float32Array(8):[],qt=tt.supportsTypedArrays()?new Float32Array(8):[],St=0;St<7;++St){var zt=St+1,At=2*zt+1;Ot[St]=1/(zt*At),bt[St]=zt/At}function Tt(e,t,n,r,a){this.xPoleWander=e,this.yPoleWander=t,this.xPoleOffset=n,this.yPoleOffset=r,this.ut1MinusUtc=a}function It(e){var t;e instanceof It?(this.scheme=e.scheme,this.authority=e.authority,this.path=e.path,this.query=e.query,this.fragment=e.fragment):e&&(t=Pt.exec(e),this.scheme=t[1],this.authority=t[2],this.path=t[3],this.query=t[4],this.fragment=t[5])}Ot[7]=Mt/136,bt[7]=8*Mt/17,nt.fastSlerp=function(e,t,n,r){var a,i=nt.dot(e,t);0<=i?a=1:(a=-1,i=-i);for(var s=i-1,o=1-n,u=n*n,l=o*o,d=7;0<=d;--d)Rt[d]=(Ot[d]*u-bt[d])*s,qt[d]=(Ot[d]*l-bt[d])*s;var c=a*n*(1+Rt[0]*(1+Rt[1]*(1+Rt[2]*(1+Rt[3]*(1+Rt[4]*(1+Rt[5]*(1+Rt[6]*(1+Rt[7])))))))),f=o*(1+qt[0]*(1+qt[1]*(1+qt[2]*(1+qt[3]*(1+qt[4]*(1+qt[5]*(1+qt[6]*(1+qt[7])))))))),h=nt.multiplyByScalar(e,f,Et);return nt.multiplyByScalar(t,c,r),nt.add(h,r,r)},nt.fastSquad=function(e,t,n,r,a,i){var s=nt.fastSlerp(e,t,a,gt),o=nt.fastSlerp(n,r,a,_t);return nt.fastSlerp(s,o,2*a*(1-a),i)},nt.equals=function(e,t){return e===t||I.defined(e)&&I.defined(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},nt.equalsEpsilon=function(e,t,n){return e===t||I.defined(e)&&I.defined(t)&&Math.abs(e.x-t.x)<=n&&Math.abs(e.y-t.y)<=n&&Math.abs(e.z-t.z)<=n&&Math.abs(e.w-t.w)<=n},nt.ZERO=Object.freeze(new nt(0,0,0,0)),nt.IDENTITY=Object.freeze(new nt(0,0,0,1)),nt.prototype.clone=function(e){return nt.clone(this,e)},nt.prototype.equals=function(e){return nt.equals(this,e)},nt.prototype.equalsEpsilon=function(e,t){return nt.equalsEpsilon(this,e,t)},nt.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},It.prototype.scheme=null,It.prototype.authority=null,It.prototype.path="",It.prototype.query=null,It.prototype.fragment=null;var Pt=new RegExp("^(?:([^:/?#]+):)?(?://([^/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$");It.prototype.getScheme=function(){return this.scheme},It.prototype.getAuthority=function(){return this.authority},It.prototype.getPath=function(){return this.path},It.prototype.getQuery=function(){return this.query},It.prototype.getFragment=function(){return this.fragment},It.prototype.isAbsolute=function(){return!!this.scheme&&!this.fragment},It.prototype.isSameDocumentAs=function(e){return e.scheme==this.scheme&&e.authority==this.authority&&e.path==this.path&&e.query==this.query},It.prototype.equals=function(e){return this.isSameDocumentAs(e)&&e.fragment==this.fragment},It.prototype.normalize=function(){this.removeDotSegments(),this.scheme&&(this.scheme=this.scheme.toLowerCase()),this.authority&&(this.authority=this.authority.replace(Vt,Dt).replace(Ut,Ft)),this.path&&(this.path=this.path.replace(Ut,Ft)),this.query&&(this.query=this.query.replace(Ut,Ft)),this.fragment&&(this.fragment=this.fragment.replace(Ut,Ft))};var Ut=/%[0-9a-z]{2}/gi,Nt=/[a-zA-Z0-9\-\._~]/,Vt=/(.*@)?([^@:]*)(:.*)?/;function Ft(e){var t=unescape(e);return Nt.test(t)?t:e.toUpperCase()}function Dt(e,t,n,r){return(t||"")+n.toLowerCase()+(r||"")}function jt(e){return 0!==e.length&&"/"===e[e.length-1]||(e+="/"),e}function Wt(e,t){if(null===e||"object"!=typeof e)return e;t=I.defaultValue(t,!1);var n,r=new e.constructor;for(var a in e){e.hasOwnProperty(a)&&(n=e[a],t&&(n=Wt(n,t)),r[a]=n)}return r}function Bt(e,t,n){n=I.defaultValue(n,!1);var r,a,i,s={},o=I.defined(e),u=I.defined(t);if(o)for(r in e)e.hasOwnProperty(r)&&(a=e[r],u&&n&&"object"==typeof a&&t.hasOwnProperty(r)?(i=t[r],s[r]="object"==typeof i?Bt(a,i,n):a):s[r]=a);if(u)for(r in t)t.hasOwnProperty(r)&&!s.hasOwnProperty(r)&&(i=t[r],s[r]=i);return s}function Lt(e,t){var n;return"undefined"!=typeof document&&(n=document),Lt._implementation(e,t,n)}It.prototype.resolve=function(e){var t=new It;return this.scheme?(t.scheme=this.scheme,t.authority=this.authority,t.path=this.path,t.query=this.query):(t.scheme=e.scheme,this.authority?(t.authority=this.authority,t.path=this.path,t.query=this.query):(t.authority=e.authority,""==this.path?(t.path=e.path,t.query=this.query||e.query):("/"==this.path.charAt(0)?t.path=this.path:e.authority&&""==e.path?t.path="/"+this.path:t.path=e.path.substring(0,e.path.lastIndexOf("/")+1)+this.path,t.removeDotSegments(),t.query=this.query))),t.fragment=this.fragment,t},It.prototype.removeDotSegments=function(){var e,t=this.path.split("/"),n=[],r=""==t[0];r&&t.shift();for(""==t[0]&&t.shift();t.length;)".."==(e=t.shift())?n.pop():"."!=e&&n.push(e);"."!=e&&".."!=e||n.push(""),r&&n.unshift(""),this.path=n.join("/")},It.prototype.toString=function(){var e="";return this.scheme&&(e+=this.scheme+":"),this.authority&&(e+="//"+this.authority),e+=this.path,this.query&&(e+="?"+this.query),this.fragment&&(e+="#"+this.fragment),e},Lt._implementation=function(e,t,n){if(!I.defined(t)){if(void 0===n)return e;t=I.defaultValue(n.baseURI,n.location.href)}var r=new It(t);return new It(e).resolve(r).toString()};var kt,Jt=/^blob:/i;function Yt(e){return Jt.test(e)}var Xt=/^data:/i;function Zt(e){return Xt.test(e)}function Ht(e){var t={};if(""===e)return t;for(var n=e.replace(/\+/g,"%20").split(/[&;]/),r=0,a=n.length;r<a;++r){var i=n[r].split("="),s=decodeURIComponent(i[0]),o=i[1],o=I.defined(o)?decodeURIComponent(o):"",u=t[s];"string"==typeof u?t[s]=[u,o]:Array.isArray(u)?u.push(o):t[s]=o}return t}var Qt=Object.freeze({UNISSUED:0,ISSUED:1,ACTIVE:2,RECEIVED:3,CANCELLED:4,FAILED:5});function Gt(e){e=I.defaultValue(e,I.defaultValue.EMPTY_OBJECT);var t=I.defaultValue(e.throttleByServer,!1),n=I.defaultValue(e.throttle,!1);this.url=e.url,this.requestFunction=e.requestFunction,this.cancelFunction=e.cancelFunction,this.priorityFunction=e.priorityFunction,this.priority=I.defaultValue(e.priority,0),this.throttle=n,this.throttleByServer=t,this.type=I.defaultValue(e.type,r.RequestType.OTHER),this.serverKey=void 0,this.state=Qt.UNISSUED,this.deferred=void 0,this.cancelled=!1}function Kt(e,t,n){this.statusCode=e,this.response=t,this.responseHeaders=n,"string"==typeof this.responseHeaders&&(this.responseHeaders=function(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),r=0;r<n.length;++r){var a,i,s=n[r],o=s.indexOf(": ");0<o&&(a=s.substring(0,o),i=s.substring(o+2),t[a]=i)}return t}(this.responseHeaders))}function $t(){this._listeners=[],this._scopes=[],this._toRemove=[],this._insideRaiseEvent=!1}function en(e,t){return t-e}function tn(e){this._comparator=e.comparator,this._array=[],this._length=0,this._maximumLength=void 0}function nn(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}Gt.prototype.cancel=function(){this.cancelled=!0},Gt.prototype.clone=function(e){return I.defined(e)?(e.url=this.url,e.requestFunction=this.requestFunction,e.cancelFunction=this.cancelFunction,e.priorityFunction=this.priorityFunction,e.priority=this.priority,e.throttle=this.throttle,e.throttleByServer=this.throttleByServer,e.type=this.type,e.serverKey=this.serverKey,e.state=this.RequestState.UNISSUED,e.deferred=void 0,e.cancelled=!1,e):new Gt(this)},Kt.prototype.toString=function(){var e="Request has failed.";return I.defined(this.statusCode)&&(e+=" Status Code: "+this.statusCode),e},Object.defineProperties($t.prototype,{numberOfListeners:{get:function(){return this._listeners.length-this._toRemove.length}}}),$t.prototype.addEventListener=function(e,t){this._listeners.push(e),this._scopes.push(t);var n=this;return function(){n.removeEventListener(e,t)}},$t.prototype.removeEventListener=function(e,t){for(var n=this._listeners,r=this._scopes,a=-1,i=0;i<n.length;i++)if(n[i]===e&&r[i]===t){a=i;break}return-1!==a&&(this._insideRaiseEvent?(this._toRemove.push(a),n[a]=void 0,r[a]=void 0):(n.splice(a,1),r.splice(a,1)),!0)},$t.prototype.raiseEvent=function(){this._insideRaiseEvent=!0;for(var e=this._listeners,t=this._scopes,n=e.length,r=0;r<n;r++){var a=e[r];I.defined(a)&&e[r].apply(t[r],arguments)}var i=this._toRemove;if(0<(n=i.length)){for(i.sort(en),r=0;r<n;r++){var s=i[r];e.splice(s,1),t.splice(s,1)}i.length=0}this._insideRaiseEvent=!1},Object.defineProperties(tn.prototype,{length:{get:function(){return this._length}},internalArray:{get:function(){return this._array}},maximumLength:{get:function(){return this._maximumLength},set:function(e){this._maximumLength=e,this._length>e&&0<e&&(this._length=e,this._array.length=e)}},comparator:{get:function(){return this._comparator}}}),tn.prototype.reserve=function(e){e=I.defaultValue(e,this._length),this._array.length=e},tn.prototype.heapify=function(e){e=I.defaultValue(e,0);for(var t=this._length,n=this._comparator,r=this._array,a=-1,i=!0;i;){var s=2*(e+1),o=s-1,a=o<t&&n(r[o],r[e])<0?o:e;s<t&&n(r[s],r[a])<0&&(a=s),a!==e?(nn(r,a,e),e=a):i=!1}},tn.prototype.resort=function(){for(var e=this._length,t=Math.ceil(e/2);0<=t;--t)this.heapify(t)},tn.prototype.insert=function(e){var t,n=this._array,r=this._comparator,a=this._maximumLength,i=this._length++;for(i<n.length?n[i]=e:n.push(e);0!==i;){var s=Math.floor((i-1)/2);if(!(r(n[i],n[s])<0))break;nn(n,i,s),i=s}return I.defined(a)&&this._length>a&&(t=n[a],this._length=a),t},tn.prototype.pop=function(e){if(e=I.defaultValue(e,0),0!==this._length){var t=this._array,n=t[e];return nn(t,e,--this._length),this.heapify(e),n}};var rn={numberOfAttemptedRequests:0,numberOfActiveRequests:0,numberOfCancelledRequests:0,numberOfCancelledActiveRequests:0,numberOfFailedRequests:0,numberOfActiveRequestsEver:0,lastNumberOfActiveRequests:0},an=2e4,sn=new tn({comparator:function(e,t){return e.priority-t.priority}});sn.maximumLength=an,sn.reserve(an);var on=[],un={},ln="undefined"!=typeof document?new It(document.location.href):new It,dn=new $t;function cn(){}function fn(e){I.defined(e.priorityFunction)&&(e.priority=e.priorityFunction())}function hn(e){var t=I.defaultValue(cn.requestsByServer[e],cn.maximumRequestsPerServer);return un[e]<t}function pn(e){return e.state===Qt.UNISSUED&&(e.state=Qt.ISSUED,e.deferred=I.when.defer()),e.deferred.promise}function mn(e){var t,n,r=pn(e);return e.state=Qt.ACTIVE,on.push(e),++rn.numberOfActiveRequests,++rn.numberOfActiveRequestsEver,++un[e.serverKey],e.requestFunction().then((n=e,function(e){n.state!==Qt.CANCELLED&&(--rn.numberOfActiveRequests,--un[n.serverKey],dn.raiseEvent(),n.state=Qt.RECEIVED,n.deferred.resolve(e))})).otherwise((t=e,function(e){t.state!==Qt.CANCELLED&&(++rn.numberOfFailedRequests,--rn.numberOfActiveRequests,--un[t.serverKey],dn.raiseEvent(e),t.state=Qt.FAILED,t.deferred.reject(e))})),r}function yn(e){var t=e.state===Qt.ACTIVE;e.state=Qt.CANCELLED,++rn.numberOfCancelledRequests,e.deferred.reject(),t&&(--rn.numberOfActiveRequests,--un[e.serverKey],++rn.numberOfCancelledActiveRequests),I.defined(e.cancelFunction)&&e.cancelFunction()}cn.maximumRequests=5e4,cn.maximumRequestsPerServer=6e3,cn.requestsByServer={"api.cesium.com:443":18,"assets.cesium.com:443":18},cn.throttleRequests=!0,cn.debugShowStatistics=!1,cn.requestCompletedEvent=dn,Object.defineProperties(cn,{statistics:{get:function(){return rn}},priorityHeapLength:{get:function(){return an},set:function(e){if(e<an)for(;sn.length>e;){yn(sn.pop())}an=e,sn.maximumLength=e,sn.reserve(e)}}}),cn.update=function(){for(var e,t=0,n=on.length,r=0;r<n;++r)(e=on[r]).cancelled&&yn(e),e.state===Qt.ACTIVE?0<t&&(on[r-t]=e):++t;on.length-=t;var a=sn.internalArray,i=sn.length;for(r=0;r<i;++r)fn(a[r]);sn.resort();for(var s=Math.max(cn.maximumRequests-on.length,0),o=0;o<s&&0<sn.length;)!(e=sn.pop()).cancelled&&(!e.throttleByServer||hn(e.serverKey))?(mn(e),++o):yn(e);!function(){if(!cn.debugShowStatistics)return;0===rn.numberOfActiveRequests&&0<rn.lastNumberOfActiveRequests&&(0<rn.numberOfAttemptedRequests&&(console.log("Number of attempted requests: "+rn.numberOfAttemptedRequests),rn.numberOfAttemptedRequests=0),0<rn.numberOfCancelledRequests&&(console.log("Number of cancelled requests: "+rn.numberOfCancelledRequests),rn.numberOfCancelledRequests=0),0<rn.numberOfCancelledActiveRequests&&(console.log("Number of cancelled active requests: "+rn.numberOfCancelledActiveRequests),rn.numberOfCancelledActiveRequests=0),0<rn.numberOfFailedRequests&&(console.log("Number of failed requests: "+rn.numberOfFailedRequests),rn.numberOfFailedRequests=0));rn.lastNumberOfActiveRequests=rn.numberOfActiveRequests}()},cn.getServerKey=function(e){var t=new It(e).resolve(ln);t.normalize();var n=t.authority;/:/.test(n)||(n=n+":"+("https"===t.scheme?"443":"80"));var r=un[n];return I.defined(r)||(un[n]=0),n},cn.request=function(e){if(Zt(e.url)||Yt(e.url))return dn.raiseEvent(),e.state=Qt.RECEIVED,e.requestFunction();if(++rn.numberOfAttemptedRequests,I.defined(e.serverKey)||(e.serverKey=cn.getServerKey(e.url)),!cn.throttleRequests||!e.throttleByServer||hn(e.serverKey)){if(!cn.throttleRequests||!e.throttle)return mn(e);if(!(on.length>=cn.maximumRequests)){fn(e);var t=sn.insert(e);if(I.defined(t)){if(t===e)return;yn(t)}return pn(e)}}},cn.clearForSpecs=function(){for(;0<sn.length;){yn(sn.pop())}for(var e=on.length,t=0;t<e;++t)yn(on[t]);on.length=0,un={},rn.numberOfAttemptedRequests=0,rn.numberOfActiveRequests=0,rn.numberOfCancelledRequests=0,rn.numberOfCancelledActiveRequests=0,rn.numberOfFailedRequests=0,rn.numberOfActiveRequestsEver=0,rn.lastNumberOfActiveRequests=0},cn.numberOfActiveRequestsByServer=function(e){return un[e]},cn.requestHeap=sn;var vn={},Cn={};vn.add=function(e,t){var n=e.toLowerCase()+":"+t;I.defined(Cn[n])||(Cn[n]=!0)},vn.remove=function(e,t){var n=e.toLowerCase()+":"+t;I.defined(Cn[n])&&delete Cn[n]},vn.contains=function(e){var t=function(e){var t=new It(e);t.normalize();var n=t.getAuthority();if(I.defined(n)){if(-1!==n.indexOf("@")&&(n=n.split("@")[1]),-1===n.indexOf(":")){var r=t.getScheme();if(I.defined(r)||(r=(r=window.location.protocol).substring(0,r.length-1)),"http"===r)n+=":80";else{if("https"!==r)return;n+=":443"}}return n}}(e);return!(!I.defined(t)||!I.defined(Cn[t]))},vn.clear=function(){Cn={}};var wn,xn,gn=function(){try{var e=new XMLHttpRequest;return e.open("GET","#",!0),(e.responseType="blob")===e.responseType}catch(e){return!1}}();function _n(e,t,n,r){var a,i=e.query,s=e.path,o={};if("string"!=typeof(a=s)||-1===a.indexOf("earthview")&&-1===a.indexOf("EV_WebService")||("string"==typeof Pn.extraRequestParam&&(o=Ht(Pn.extraRequestParam)),o=bn(Pn._evServerQueryParam,o,!1)),!I.defined(i)||0===i.length)return t._queryParameters=bn(t._queryParameters,o,!1);-1===i.indexOf("=")?o[i]=void 0:o=bn(Ht(i),o,!1),t._queryParameters=n?bn(o,t._queryParameters,r):o,e.query=void 0}function En(e,t){var n=t._queryParameters,r=Object.keys(n);1!==r.length||I.defined(n[r[0]])?Array.isArray(n.layer)?e.query=function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],a=encodeURIComponent(n)+"=";if(Array.isArray(r)){t+=a+encodeURIComponent(r[0]);for(var i=1,s=r.length;i<s;++i)t+=","+encodeURIComponent(r[i]);t+="&"}else t+=a+encodeURIComponent(r)+"&"}return t=t.slice(0,-1)}(n):e.query=function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],a=encodeURIComponent(n)+"=";if(Array.isArray(r))for(var i=0,s=r.length;i<s;++i)t+=a+encodeURIComponent(r[i])+"&";else t+=a+encodeURIComponent(r)+"&"}return t=t.slice(0,-1)}(n):e.query=r[0]}function Mn(e,t){return I.defined(e)?I.defined(e.clone)?e.clone():Wt(e):t}function On(e){if(e.state===Qt.ISSUED||e.state===Qt.ACTIVE)throw new Z.RuntimeError("The Resource is already being fetched.");e.state=Qt.UNISSUED,e.deferred=void 0}function bn(e,t,n){if(!n)return Bt(e,t);var r,a,i=Wt(e,!0);for(var s in t){t.hasOwnProperty(s)&&(r=i[s],a=t[s],I.defined(r)?(Array.isArray(r)||(r=i[s]=[r]),i[s]=r.concat(a)):i[s]=Array.isArray(a)?a.slice():a)}return i}function Rn(e){return I.defined(wn)||(wn="object"==typeof define&&I.defined(define.amd)&&!define.amd.toUrlUndefined&&I.defined(require.toUrl)?Sn:In),wn(e)}function qn(e){return"undefined"==typeof document?e:(I.defined(xn)||(xn=document.createElement("a")),xn.href=e,xn.href=xn.href,xn.href)}function Sn(e){return qn(require.toUrl("../"+e))}var zn,An=/((?:.*\/)|^)cesium[\w-]*\.js(?:\W|$)/i;function Tn(){var e="undefined"!=typeof CESIUM_BASE_URL?CESIUM_BASE_URL:"object"==typeof define&&I.defined(define.amd)&&!define.amd.toUrlUndefined&&I.defined(require.toUrl)?Lt("..",Rn("Core/buildModuleUrl.js")):function(){for(var e=document.getElementsByTagName("script"),t=0,n=e.length;t<n;++t){var r=e[t].getAttribute("src"),a=An.exec(r);if(null!==a)return a[1]}}();return jt(qn(e))}function In(e){return Tn()+e}function Pn(e){"string"==typeof(e=I.defaultValue(e,I.defaultValue.EMPTY_OBJECT))&&(e={url:e}),this._url=void 0,this._templateValues=Mn(e.templateValues,{}),this._queryParameters=Mn(e.queryParameters,{}),this.headers=Mn(e.headers,{}),this.request=I.defaultValue(e.request,new Gt),this.proxy=e.proxy,this.retryCallback=e.retryCallback,this.retryAttempts=I.defaultValue(e.retryAttempts,0),this._retryCount=0;var t=new It(e.url);if(_n(t,this,!0,!0),t.fragment=void 0,this._url=t.toString(),I.defined(self.window)&&0==Pn._ajaxWorkers.length&&Pn._sendAjaxFromWebWorker)for(var n=0;n<Pn._ajaxMaxRequestConcurrency;n++){var l=n;Pn._ajaxWorkers.push(new Worker(Rn("Workers/sendAjaxRequest.js"))),Pn._ajaxWorkers[l].onmessage=function(e){var t;0<Pn._ajaxExtraRequestArray.length&&(t=Pn._ajaxExtraRequestArray.shift(),Pn._ajaxWorkers[l].postMessage(t));var n,r,a,i=e.data,s=i.status,o=i.requestParam,u=Pn._ajaxMap.get(o.url+o.ajaxRequestCount);0==s?(n=i.xhrStatus,r=i.xhrResponse,a=i.browserResponseType,!(n<200||300<=n)||o.localFile&&0===n||(console.log("url : "+o.url+" failed! status : "+n),u.reject(new Kt(n,i.xhrResponse,i.xhrResponseHeaders))),"HEAD"!==o.method&&"OPTIONS"!==o.method||u.resolve(i.xhrResponseHeaders),204===n?u.resolve():!I.defined(r)||I.defined(o.responseType)&&a!==o.responseType?"json"===o.responseType&&I.defined(i.jsonStatus)?0==i.jsonStatus?u.resolve(r):u.reject(r):""!==a&&"document"!==a||!I.defined(i.responseXML)?""!==a&&"text"!==a||!I.defined(i.responseText)?u.reject(new Z.RuntimeError("Invalid XMLHttpRequest response type.")):u.resolve(i.responseText):u.resolve(i.responseXML):u.resolve(r)):u.reject(new Kt),u=i.xhrResponse=void 0,Pn._ajaxMap.delete(o.url+o.ajaxRequestCount)}}}function Un(e){var n=e.resource,r=e.flipY,a=e.preferImageBitmap,i=n.request;i.url=n.url,i.requestFunction=function(){var e=!1;n.isDataUri||n.isBlobUri||(e=n.isCrossOriginUrl);var t=I.when.defer();return Pn._Implementations.createImage(i,e,t,r,a),t.promise};var t=cn.request(i);if(I.defined(t))return t.otherwise(function(t){return i.state!==Qt.FAILED?I.when.reject(t):n.retryOnError(t).then(function(e){return e?(i.state=Qt.UNISSUED,i.deferred=void 0,Un({resource:n,flipY:r,preferImageBitmap:a})):I.when.reject(t)})})}Pn.createIfNeeded=function(e){return e instanceof Pn?e.getDerivedResource({request:e.request}):"string"!=typeof e?e:new Pn({url:e})},Pn.supportsImageBitmapOptions=function(){if(I.defined(zn))return zn;if("function"!=typeof createImageBitmap)return zn=I.when.resolve(!1);return zn=Pn.fetchBlob({url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWP4////fwAJ+wP9CNHoHgAAAABJRU5ErkJggg=="}).then(function(e){return createImageBitmap(e,{imageOrientation:"flipY",premultiplyAlpha:"none"})}).then(function(e){return!0}).otherwise(function(){return!1})},Object.defineProperties(Pn,{isBlobSupported:{get:function(){return gn}}}),Object.defineProperties(Pn.prototype,{queryParameters:{get:function(){return this._queryParameters}},templateValues:{get:function(){return this._templateValues}},url:{get:function(){return this.getUrlComponent(!0,!0)},set:function(e){var t=new It(e);_n(t,this,!1),t.fragment=void 0,this._url=t.toString()}},extension:{get:function(){return function(e){var t=new It(e);t.normalize();var n=t.path,r=n.lastIndexOf("/");return-1!==r&&(n=n.substr(r+1)),n=-1===(r=n.lastIndexOf("."))?"":n.substr(r+1)}(this._url)}},isDataUri:{get:function(){return Zt(this._url)}},isBlobUri:{get:function(){return Yt(this._url)}},isCrossOriginUrl:{get:function(){return function(e){I.defined(kt)||(kt=document.createElement("a")),kt.href=window.location.href;var t=kt.host,n=kt.protocol;return kt.href=e,kt.href=kt.href,n!==kt.protocol||t!==kt.host}(this._url)}},hasHeaders:{get:function(){return 0<Object.keys(this.headers).length}}}),Pn.prototype.getUrlComponent=function(e,t){if(this.isDataUri)return this._url;var n=new It(this._url);e&&En(n,this);var r=n.toString().replace(/%7B/g,"{").replace(/%7D/g,"}"),a=this._templateValues,r=r.replace(/{(.*?)}/g,function(e,t){var n=a[t];return I.defined(n)?encodeURIComponent(n):e});return t&&I.defined(this.proxy)&&(r=this.proxy.getURL(r)),r},Pn.prototype.setQueryParameters=function(e,t){this._queryParameters=t?bn(this._queryParameters,e,!1):bn(e,this._queryParameters,!1)},Pn.prototype.appendQueryParameters=function(e){this._queryParameters=bn(e,this._queryParameters,!0)},Pn.prototype.setTemplateValues=function(e,t){this._templateValues=t?Bt(this._templateValues,e):Bt(e,this._templateValues)},Pn.prototype.getDerivedResource=function(e){var t,n=this.clone();return n._retryCount=0,I.defined(e.url)&&(_n(t=new It(e.url),n,!0,I.defaultValue(e.preserveQueryParameters,!1)),t.fragment=void 0,n._url=t.resolve(new It(Lt(this._url))).toString()),I.defined(e.queryParameters)&&(n._queryParameters=Bt(e.queryParameters,n._queryParameters)),I.defined(e.templateValues)&&(n._templateValues=Bt(e.templateValues,n.templateValues)),I.defined(e.headers)&&(n.headers=Bt(e.headers,n.headers)),I.defined(e.proxy)&&(n.proxy=e.proxy),I.defined(e.request)&&(n.request=e.request),I.defined(e.retryCallback)&&(n.retryCallback=e.retryCallback),I.defined(e.retryAttempts)&&(n.retryAttempts=e.retryAttempts),n},Pn.prototype.retryOnError=function(e){var t=this.retryCallback;if("function"!=typeof t||this._retryCount>=this.retryAttempts)return I.when(!1);var n=this;return I.when(t(this,e)).then(function(e){return++n._retryCount,e})},Pn.prototype.clone=function(e){return I.defined(e)||(e=new Pn({url:this._url})),e._url=this._url,e._queryParameters=Wt(this._queryParameters),e._templateValues=Wt(this._templateValues),e.headers=Wt(this.headers),e.proxy=this.proxy,e.retryCallback=this.retryCallback,e.retryAttempts=this.retryAttempts,e._retryCount=0,e.request=this.request.clone(),e},Pn.prototype.getBaseUri=function(e){return t=this.getUrlComponent(e),n=e,r="",-1!==(a=t.lastIndexOf("/"))&&(r=t.substring(0,a+1)),n&&(t=new It(t),I.defined(t.query)&&(r+="?"+t.query),I.defined(t.fragment)&&(r+="#"+t.fragment)),r;var t,n,r,a},Pn.prototype.appendForwardSlash=function(){this._url=jt(this._url)},Pn.prototype.fetchArrayBuffer=function(){return this.fetch({responseType:"arraybuffer"})},Pn.fetchArrayBuffer=function(e){return new Pn(e).fetchArrayBuffer()},Pn.prototype.fetchBlob=function(){return this.fetch({responseType:"blob"})},Pn.fetchBlob=function(e){return new Pn(e).fetchBlob()},Pn.prototype.fetchImage=function(e){e=I.defaultValue(e,I.defaultValue.EMPTY_OBJECT);var t=I.defaultValue(e.preferImageBitmap,!1),n=I.defaultValue(e.preferBlob,!1),r=I.defaultValue(e.flipY,!1);if(On(this.request),!gn||this.isDataUri||this.isBlobUri||!this.hasHeaders&&!n)return Un({resource:this,flipY:r,preferImageBitmap:t});var a,i,s,o=this.fetchBlob();return I.defined(o)?Pn.supportsImageBitmapOptions().then(function(e){return a=e&&t,o}).then(function(e){if(I.defined(e)){if(s=e,a)return Pn.createImageBitmapFromBlob(e,{flipY:r,premultiplyAlpha:!1});var t=window.URL.createObjectURL(e);return Un({resource:i=new Pn({url:t}),flipY:r,preferImageBitmap:!1})}}).then(function(e){if(I.defined(e))return e.blob=s,a||window.URL.revokeObjectURL(i.url),e}).otherwise(function(e){return I.defined(i)&&window.URL.revokeObjectURL(i.url),e.blob=s,I.when.reject(e)}):void 0},Pn.fetchImage=function(e){return new Pn(e).fetchImage({flipY:e.flipY,preferBlob:e.preferBlob,preferImageBitmap:e.preferImageBitmap})},Pn.prototype.fetchText=function(){return this.fetch({responseType:"text"})},Pn.fetchText=function(e){return new Pn(e).fetchText()},Pn.prototype.fetchJson=function(){var e=this.fetch({responseType:"text",headers:{Accept:"application/json,*/*;q=0.01"}});if(I.defined(e))return e.then(function(e){if(I.defined(e))return JSON.parse(e)})},Pn.fetchJson=function(e){return new Pn(e).fetchJson()},Pn.prototype.fetchXML=function(){return this.fetch({responseType:"document",overrideMimeType:"text/xml"})},Pn.fetchXML=function(e){return new Pn(e).fetchXML()},Pn.prototype.fetchJsonp=function(e){var t;for(e=I.defaultValue(e,"callback"),On(this.request);t="loadJsonp"+Math.random().toString().substring(2,8),I.defined(window[t]););return function n(r,a,i){var e={};e[a]=i;r.setQueryParameters(e);var s=r.request;s.url=r.url;s.requestFunction=function(){var t=I.when.defer();return window[i]=function(e){t.resolve(e);try{delete window[i]}catch(e){window[i]=void 0}},Pn._Implementations.loadAndExecuteScript(r.url,i,t),t.promise};var t=cn.request(s);if(!I.defined(t))return;return t.otherwise(function(t){return s.state!==Qt.FAILED?I.when.reject(t):r.retryOnError(t).then(function(e){return e?(s.state=Qt.UNISSUED,s.deferred=void 0,n(r,a,i)):I.when.reject(t)})})}(this,e,t)},Pn.fetchJsonp=function(e){return new Pn(e).fetchJsonp(e.callbackParameterName)},Pn.prototype._makeRequest=function(o){var u=this;On(u.request);var l=u.request;l.url=u.url,l.requestFunction=function(){var e,t=o.responseType,n=Bt(o.headers,u.headers),r=o.overrideMimeType,a=o.method,i=o.data,s=I.when.defer();return 0!=Pn._ajaxWorkers.length&&"document"!=t&&-1!=u.url.indexOf("http")&&Pn._sendAjaxFromWebWorker?Pn._Implementations.loadWithWebWorkerXhr(u.url,t,a,i,n,s,r):(e=Pn._Implementations.loadWithXhr(u.url,t,a,i,n,s,r),I.defined(e)&&I.defined(e.abort)&&(l.cancelFunction=function(){e.abort()})),s.promise};var e=cn.request(l);if(I.defined(e))return e.then(function(e){return e}).otherwise(function(t){return l.state!==Qt.FAILED?I.when.reject(t):u.retryOnError(t).then(function(e){return e?(l.state=Qt.UNISSUED,l.deferred=void 0,u.fetch(o)):I.when.reject(t)})})};var Nn=/^data:(.*?)(;base64)?,(.*)$/;function Vn(e,t){var n=decodeURIComponent(t);return e?atob(n):n}function Fn(e,t){for(var n=Vn(e,t),r=new ArrayBuffer(n.length),a=new Uint8Array(r),i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return r}function Dn(e,t){t=I.defaultValue(t,"");var n=e[1],r=!!e[2],a=e[3];switch(t){case"":case"text":return Vn(r,a);case"arraybuffer":return Fn(r,a);case"blob":var i=Fn(r,a);return new Blob([i],{type:n});case"document":return(new DOMParser).parseFromString(Vn(r,a),n);case"json":return JSON.parse(Vn(r,a))}}function jn(e,t){switch(t){case"text":return e.toString("utf8");case"json":return JSON.parse(e.toString("utf8"));default:return new Uint8Array(e).buffer}}function Wn(e,r,t,n,a,i){var s=require("url").parse(e),o="https:"===s.protocol?require("https"):require("http"),u=require("zlib"),l={protocol:s.protocol,hostname:s.hostname,port:s.port,path:s.path,query:s.query,method:t,headers:a};o.request(l).on("response",function(t){var n;t.statusCode<200||300<=t.statusCode?i.reject(new Kt(t.statusCode,t,t.headers)):(n=[],t.on("data",function(e){n.push(e)}),t.on("end",function(){var e=Buffer.concat(n);"gzip"===t.headers["content-encoding"]?u.gunzip(e,function(e,t){e?i.reject(new Z.RuntimeError("Error decompressing response.")):i.resolve(jn(t,r))}):i.resolve(jn(e,r))}))}).on("error",function(e){i.reject(new Kt)}).end()}Pn.prototype.fetch=function(e){return(e=Mn(e,{})).method="GET",this._makeRequest(e)},Pn.fetch=function(e){return new Pn(e).fetch({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},Pn.prototype.delete=function(e){return(e=Mn(e,{})).method="DELETE",this._makeRequest(e)},Pn.delete=function(e){return new Pn(e).delete({responseType:e.responseType,overrideMimeType:e.overrideMimeType,data:e.data})},Pn.prototype.head=function(e){return(e=Mn(e,{})).method="HEAD",this._makeRequest(e)},Pn.head=function(e){return new Pn(e).head({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},Pn.prototype.options=function(e){return(e=Mn(e,{})).method="OPTIONS",this._makeRequest(e)},Pn.options=function(e){return new Pn(e).options({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},Pn.prototype.post=function(e,t){return i.Check.defined("data",e),(t=Mn(t,{})).method="POST",t.data=e,this._makeRequest(t)},Pn.post=function(e){return new Pn(e).post(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},Pn.prototype.put=function(e,t){return i.Check.defined("data",e),(t=Mn(t,{})).method="PUT",t.data=e,this._makeRequest(t)},Pn.put=function(e){return new Pn(e).put(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},Pn.prototype.patch=function(e,t){return i.Check.defined("data",e),(t=Mn(t,{})).method="PATCH",t.data=e,this._makeRequest(t)},Pn.patch=function(e){return new Pn(e).patch(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},Pn._Implementations={},Pn._Implementations.createImage=function(u,l,d,c,f){var h=u.url;Pn.supportsImageBitmapOptions().then(function(e){if(!e||!f)return t=h,n=l,r=d,(a=new Image).onload=function(){r.resolve(a)},a.onerror=function(e){r.reject(e)},n&&(vn.contains(t)?a.crossOrigin="use-credentials":a.crossOrigin=""),void(a.src=t);var t,n,r,a,i,s="blob",o=I.when.defer();return 0!=Pn._ajaxWorkers.length&&-1!=h.indexOf("http")&&Pn._sendAjaxFromWebWorker?Pn._Implementations.loadWithWebWorkerXhr(h,s,"GET",void 0,void 0,o,void 0):(i=Pn._Implementations.loadWithXhr(h,s,"GET",void 0,void 0,o,void 0,void 0,void 0),I.defined(i)&&I.defined(i.abort)&&(u.cancelFunction=function(){i.abort()})),o.promise.then(function(e){if(I.defined(e))return Pn.createImageBitmapFromBlob(e,{flipY:c,premultiplyAlpha:!1});d.reject(new Z.RuntimeError("Successfully retrieved "+h+" but it contained no content."))}).then(d.resolve)}).otherwise(d.reject)},Pn.createImageBitmapFromBlob=function(e,t){return i.Check.defined("options",t),i.Check.typeOf.bool("options.flipY",t.flipY),i.Check.typeOf.bool("options.premultiplyAlpha",t.premultiplyAlpha),createImageBitmap(e,{imageOrientation:t.flipY?"flipY":"none",premultiplyAlpha:t.premultiplyAlpha?"premultiply":"none"})};var Bn="undefined"==typeof XMLHttpRequest;function Ln(e){var t,n;e=I.defaultValue(e,I.defaultValue.EMPTY_OBJECT),this._dates=void 0,this._samples=void 0,this._dateColumn=-1,this._xPoleWanderRadiansColumn=-1,this._yPoleWanderRadiansColumn=-1,this._ut1MinusUtcSecondsColumn=-1,this._xCelestialPoleOffsetRadiansColumn=-1,this._yCelestialPoleOffsetRadiansColumn=-1,this._taiMinusUtcSecondsColumn=-1,this._columnCount=0,this._lastIndex=-1,this._downloadPromise=void 0,this._dataError=void 0,this._addNewLeapSeconds=I.defaultValue(e.addNewLeapSeconds,!0),I.defined(e.data)?Jn(this,e.data):I.defined(e.url)?(t=Pn.createIfNeeded(e.url),(n=this)._downloadPromise=t.fetchJson().then(function(e){Jn(n,e)}).otherwise(function(){n._dataError="An error occurred while retrieving the EOP data from the URL "+t.url+"."})):Jn(this,{columnNames:["dateIso8601","modifiedJulianDateUtc","xPoleWanderRadians","yPoleWanderRadians","ut1MinusUtcSeconds","lengthOfDayCorrectionSeconds","xCelestialPoleOffsetRadians","yCelestialPoleOffsetRadians","taiMinusUtcSeconds"],samples:[]})}function kn(e,t){return b.JulianDate.compare(e.julianDate,t)}function Jn(e,t){if(I.defined(t.columnNames))if(I.defined(t.samples)){var n=t.columnNames.indexOf("modifiedJulianDateUtc"),r=t.columnNames.indexOf("xPoleWanderRadians"),a=t.columnNames.indexOf("yPoleWanderRadians"),i=t.columnNames.indexOf("ut1MinusUtcSeconds"),s=t.columnNames.indexOf("xCelestialPoleOffsetRadians"),o=t.columnNames.indexOf("yCelestialPoleOffsetRadians"),u=t.columnNames.indexOf("taiMinusUtcSeconds");if(n<0||r<0||a<0||i<0||s<0||o<0||u<0)e._dataError="Error in loaded EOP data: The columnNames property must include modifiedJulianDateUtc, xPoleWanderRadians, yPoleWanderRadians, ut1MinusUtcSeconds, xCelestialPoleOffsetRadians, yCelestialPoleOffsetRadians, and taiMinusUtcSeconds columns";else{var l,d=e._samples=t.samples,c=e._dates=[];e._dateColumn=n,e._xPoleWanderRadiansColumn=r,e._yPoleWanderRadiansColumn=a,e._ut1MinusUtcSecondsColumn=i,e._xCelestialPoleOffsetRadiansColumn=s,e._yCelestialPoleOffsetRadiansColumn=o,e._taiMinusUtcSecondsColumn=u,e._columnCount=t.columnNames.length,e._lastIndex=void 0;for(var f=e._addNewLeapSeconds,h=0,p=d.length;h<p;h+=e._columnCount){var m,y,v,C=d[h+n],w=d[h+u],x=C+b.TimeConstants.MODIFIED_JULIAN_DATE_DIFFERENCE,g=new b.JulianDate(x,w,b.TimeStandard.TAI);c.push(g),f&&(w!==l&&I.defined(l)&&(m=b.JulianDate.leapSeconds,(y=b.binarySearch(m,g,kn))<0&&(v=new b.LeapSecond(g,w),m.splice(~y,0,v))),l=w)}}}else e._dataError="Error in loaded EOP data: The samples property is required.";else e._dataError="Error in loaded EOP data: The columnNames property is required."}function Yn(e,t,n,r,a){var i=n*r;a.xPoleWander=t[i+e._xPoleWanderRadiansColumn],a.yPoleWander=t[i+e._yPoleWanderRadiansColumn],a.xPoleOffset=t[i+e._xCelestialPoleOffsetRadiansColumn],a.yPoleOffset=t[i+e._yCelestialPoleOffsetRadiansColumn],a.ut1MinusUtc=t[i+e._ut1MinusUtcSecondsColumn]}function Xn(e,t,n){return t+e*(n-t)}function Zn(e,t,n,r,a,i,s){var o=e._columnCount;if(i>t.length-1)return s.xPoleWander=0,s.yPoleWander=0,s.xPoleOffset=0,s.yPoleOffset=0,s.ut1MinusUtc=0,s;var u=t[a],l=t[i];if(u.equals(l)||r.equals(u))return Yn(e,n,a,o,s),s;if(r.equals(l))return Yn(e,n,i,o,s),s;var d,c,f=b.JulianDate.secondsDifference(r,u)/b.JulianDate.secondsDifference(l,u),h=a*o,p=i*o,m=n[h+e._ut1MinusUtcSecondsColumn],y=n[p+e._ut1MinusUtcSecondsColumn],v=y-m;return!(.5<v||v<-.5)||(d=n[h+e._taiMinusUtcSecondsColumn])!==(c=n[p+e._taiMinusUtcSecondsColumn])&&(l.equals(r)?m=y:y-=c-d),s.xPoleWander=Xn(f,n[h+e._xPoleWanderRadiansColumn],n[p+e._xPoleWanderRadiansColumn]),s.yPoleWander=Xn(f,n[h+e._yPoleWanderRadiansColumn],n[p+e._yPoleWanderRadiansColumn]),s.xPoleOffset=Xn(f,n[h+e._xCelestialPoleOffsetRadiansColumn],n[p+e._xCelestialPoleOffsetRadiansColumn]),s.yPoleOffset=Xn(f,n[h+e._yCelestialPoleOffsetRadiansColumn],n[p+e._yCelestialPoleOffsetRadiansColumn]),s.ut1MinusUtc=Xn(f,m,y),s}function Hn(e,t,n){this.heading=I.defaultValue(e,0),this.pitch=I.defaultValue(t,0),this.roll=I.defaultValue(n,0)}Pn._Implementations.loadWithXhr=function(e,a,i,t,n,s,r){var o=Nn.exec(e);if(null===o){if(!Bn){var u=new XMLHttpRequest;if(vn.contains(e)&&(u.withCredentials=!0),u.open(i,e,!0),I.defined(r)&&I.defined(u.overrideMimeType)&&u.overrideMimeType(r),I.defined(n))for(var l in n)n.hasOwnProperty(l)&&u.setRequestHeader(l,n[l]);I.defined(a)&&(u.responseType=a);var d=!1;return"string"==typeof e&&(d=0===e.indexOf("file://")||"undefined"!=typeof window&&"file://"===window.location.origin),u.onload=function(){if(!(u.status<200||300<=u.status)||d&&0===u.status){var e=u.response,t=u.responseType;if("HEAD"===i||"OPTIONS"===i){var n=u.getAllResponseHeaders().trim().split(/[\r\n]+/),r={};return n.forEach(function(e){var t=e.split(": "),n=t.shift();r[n]=t.join(": ")}),void s.resolve(r)}if(204===u.status)s.resolve();else if(!I.defined(e)||I.defined(a)&&t!==a)if("json"===a&&"string"==typeof e)try{s.resolve(JSON.parse(e))}catch(e){s.reject(e)}else(""===t||"document"===t)&&I.defined(u.responseXML)&&u.responseXML.hasChildNodes()?s.resolve(u.responseXML):""!==t&&"text"!==t||!I.defined(u.responseText)?s.reject(new Z.RuntimeError("Invalid XMLHttpRequest response type.")):s.resolve(u.responseText);else s.resolve(e)}else s.reject(new Kt(u.status,u.response,u.getAllResponseHeaders()))},u.onerror=function(e){s.reject(new Kt)},u.send(t),u}Wn(e,a,i,0,n,s)}else s.resolve(Dn(o,a))},Pn._Implementations.loadWithWebWorkerXhr=function(e,t,n,r,a,i,s){var o,u,l,d,c=Nn.exec(e);null===c?Bn?Wn(e,t,n,0,a,i):(o=!1,"string"==typeof e&&(o=0===e.indexOf("file://")||"undefined"!=typeof window&&"file://"===window.location.origin),u=!1,vn.contains(e)&&(u=!0),Pn._ajaxRequestCount++,Pn._ajaxMap.set(e+Pn._ajaxRequestCount,i),l=0,1<Pn._ajaxMaxRequestConcurrency&&(l=Pn._ajaxRequestCount%Pn._ajaxMaxRequestConcurrency),d={url:e,method:n,overrideMimeType:s,headers:a,responseType:t,localFile:o,withCredentials:u,data:r,ajaxRequestCount:Pn._ajaxRequestCount},1e3<Pn._ajaxMap.size?Pn._ajaxExtraRequestArray.push(d):Pn._ajaxWorkers[l].postMessage(d)):i.resolve(Dn(c,t))},Pn._Implementations.loadAndExecuteScript=function(e,t,n){return function(e){var t=I.when.defer(),n=document.createElement("script");n.async=!0,n.src=e;var r=document.getElementsByTagName("head")[0];return n.onload=function(){n.onload=void 0,r.removeChild(n),t.resolve()},n.onerror=function(e){t.reject(e)},r.appendChild(n),t.promise}(e).otherwise(n.reject)},Pn._DefaultImplementations={},Pn._DefaultImplementations.createImage=Pn._Implementations.createImage,Pn._DefaultImplementations.loadWithXhr=Pn._Implementations.loadWithXhr,Pn._DefaultImplementations.loadAndExecuteScript=Pn._Implementations.loadAndExecuteScript,Pn._ajaxWorkers=[],Pn._ajaxMap=new Map,Pn._ajaxExtraRequestArray=new Array,Pn._ajaxRequestCount=0,Pn._ajaxMaxRequestConcurrency=Math.max(parseInt(.5*tt.hardwareConcurrency),3),Pn._sendAjaxFromWebWorker=!0,Pn.extraRequestParam=void 0,Pn.DEFAULT=Object.freeze(new Pn({url:"undefined"==typeof document?"":document.location.href.split("?")[0]})),Pn._evServerQueryParam={},Pn.addEVServerQueryParam=function(e){for(var t in e)e.hasOwnProperty(t)&&(Pn._evServerQueryParam[t]=e[t])},Pn.removeEVServerQueryParam=function(e){Pn._evServerQueryParam.hasOwnProperty(e)&&delete Pn._evServerQueryParam[e]},Pn.removeAllEVServerQueryParam=function(){Pn._evServerQueryParam={}},Ln.NONE=Object.freeze({getPromiseToLoad:function(){return I.when.resolve()},compute:function(e,t){return I.defined(t)?(t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0):t=new Tt(0,0,0,0,0),t}}),Ln.prototype.getPromiseToLoad=function(){return I.when(this._downloadPromise)},Ln.prototype.compute=function(e,t){if(I.defined(this._samples)){if(I.defined(t)||(t=new Tt(0,0,0,0,0)),0===this._samples.length)return t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0,t;var n=this._dates,r=this._lastIndex,a=0,i=0;if(I.defined(r)){var s=n[r],o=n[r+1],u=b.JulianDate.lessThanOrEquals(s,e),l=!I.defined(o),d=l||b.JulianDate.greaterThanOrEquals(o,e);if(u&&d)return a=r,!l&&o.equals(e)&&++a,i=a+1,Zn(this,n,this._samples,e,a,i,t),t}var c=b.binarySearch(n,e,b.JulianDate.compare,this._dateColumn);return 0<=c?(c<n.length-1&&n[c+1].equals(e)&&++c,i=a=c):(a=(i=~c)-1)<0&&(a=0),this._lastIndex=a,Zn(this,n,this._samples,e,a,i,t),t}if(I.defined(this._dataError))throw new Z.RuntimeError(this._dataError)},Hn.fromQuaternion=function(e,t){I.defined(t)||(t=new Hn);var n=2*(e.w*e.y-e.z*e.x),r=1-2*(e.x*e.x+e.y*e.y),a=2*(e.w*e.x+e.y*e.z),i=1-2*(e.y*e.y+e.z*e.z),s=2*(e.w*e.z+e.x*e.y);return t.heading=-Math.atan2(s,i),t.roll=Math.atan2(a,r),t.pitch=-X.CesiumMath.asinClamped(n),t},Hn.fromDegrees=function(e,t,n,r){return I.defined(r)||(r=new Hn),r.heading=e*X.CesiumMath.RADIANS_PER_DEGREE,r.pitch=t*X.CesiumMath.RADIANS_PER_DEGREE,r.roll=n*X.CesiumMath.RADIANS_PER_DEGREE,r},Hn.clone=function(e,t){if(I.defined(e))return I.defined(t)?(t.heading=e.heading,t.pitch=e.pitch,t.roll=e.roll,t):new Hn(e.heading,e.pitch,e.roll)},Hn.equals=function(e,t){return e===t||I.defined(e)&&I.defined(t)&&e.heading===t.heading&&e.pitch===t.pitch&&e.roll===t.roll},Hn.equalsEpsilon=function(e,t,n,r){return e===t||I.defined(e)&&I.defined(t)&&X.CesiumMath.equalsEpsilon(e.heading,t.heading,n,r)&&X.CesiumMath.equalsEpsilon(e.pitch,t.pitch,n,r)&&X.CesiumMath.equalsEpsilon(e.roll,t.roll,n,r)},Hn.prototype.clone=function(e){return Hn.clone(this,e)},Hn.prototype.equals=function(e){return Hn.equals(this,e)},Hn.prototype.equalsEpsilon=function(e,t,n){return Hn.equalsEpsilon(this,e,t,n)},Hn.prototype.toString=function(){return"("+this.heading+", "+this.pitch+", "+this.roll+")"};var Qn,Gn,Kn,$n=/((?:.*\/)|^)cesium[\w-]*\.js(?:\W|$)/i;function er(e){return"undefined"==typeof document?e:(I.defined(Qn)||(Qn=document.createElement("a")),Qn.href=e,Qn.href=Qn.href,Qn.href)}function tr(){if(I.defined(Gn))return Gn;var e="undefined"!=typeof CESIUM_BASE_URL?CESIUM_BASE_URL:"object"==typeof define&&I.defined(define.amd)&&!define.amd.toUrlUndefined&&I.defined(require.toUrl)?Lt("..",ar("Core/buildModuleUrl.js")):function(){for(var e=document.getElementsByTagName("script"),t=0,n=e.length;t<n;++t){var r=e[t].getAttribute("src"),a=$n.exec(r);if(null!==a)return a[1]}}();return(Gn=new Pn({url:er(e)})).appendForwardSlash(),Gn}function nr(e){return er(require.toUrl("../"+e))}function rr(e){return tr().getDerivedResource({url:e}).url}function ar(e){return I.defined(Kn)||(Kn="object"==typeof define&&I.defined(define.amd)&&!define.amd.toUrlUndefined&&I.defined(require.toUrl)?nr:rr),Kn(e)}function ir(e,t,n){this.x=e,this.y=t,this.s=n}function sr(e){e=I.defaultValue(e,I.defaultValue.EMPTY_OBJECT),this._xysFileUrlTemplate=Pn.createIfNeeded(e.xysFileUrlTemplate),this._interpolationOrder=I.defaultValue(e.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=I.defaultValue(e.sampleZeroJulianEphemerisDate,2442396.5),this._sampleZeroDateTT=new b.JulianDate(this._sampleZeroJulianEphemerisDate,0,b.TimeStandard.TAI),this._stepSizeDays=I.defaultValue(e.stepSizeDays,1),this._samplesPerXysFile=I.defaultValue(e.samplesPerXysFile,1e3),this._totalSamples=I.defaultValue(e.totalSamples,27426),this._samples=new Array(3*this._totalSamples),this._chunkDownloadsInProgress=[];for(var t=this._interpolationOrder,n=this._denominators=new Array(t+1),r=this._xTable=new Array(t+1),a=Math.pow(this._stepSizeDays,t),i=0;i<=t;++i){n[i]=a,r[i]=i*this._stepSizeDays;for(var s=0;s<=t;++s)s!==i&&(n[i]*=i-s);n[i]=1/n[i]}this._work=new Array(t+1),this._coef=new Array(t+1)}ar._cesiumScriptRegex=$n,ar._buildModuleUrlFromBaseUrl=rr,ar._clearBaseResource=function(){Gn=void 0},ar.setBaseUrl=function(e){Gn=Pn.DEFAULT.getDerivedResource({url:e})},ar.getCesiumBaseUrl=tr;var or=new b.JulianDate(0,0,b.TimeStandard.TAI);function ur(e,t,n){var r=or;return r.dayNumber=t,r.secondsOfDay=n,b.JulianDate.daysDifference(r,e._sampleZeroDateTT)}function lr(s,o){if(s._chunkDownloadsInProgress[o])return s._chunkDownloadsInProgress[o];var u=I.when.defer();s._chunkDownloadsInProgress[o]=u;var e=s._xysFileUrlTemplate,t=I.defined(e)?e.getDerivedResource({templateValues:{0:o}}):new Pn({url:ar("Assets/IAU2006_XYS/IAU2006_XYS_"+o+".js")});return I.when(t.fetchJson(),function(e){s._chunkDownloadsInProgress[o]=!1;for(var t=s._samples,n=e.samples,r=o*s._samplesPerXysFile*3,a=0,i=n.length;a<i;++a)t[r+a]=n[a];u.resolve()}),u.promise}sr.prototype.preload=function(e,t,n,r){var a=ur(this,e,t),i=ur(this,n,r),s=a/this._stepSizeDays-this._interpolationOrder/2|0;s<0&&(s=0);var o=i/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder;o>=this._totalSamples&&(o=this._totalSamples-1);for(var u=s/this._samplesPerXysFile|0,l=o/this._samplesPerXysFile|0,d=[],c=u;c<=l;++c)d.push(lr(this,c));return I.when.all(d)},sr.prototype.computeXysRadians=function(e,t,n){var r=ur(this,e,t);if(!(r<0)){var a=r/this._stepSizeDays|0;if(!(a>=this._totalSamples)){var i=this._interpolationOrder,s=a-(i/2|0);s<0&&(s=0);var o=s+i;o>=this._totalSamples&&(s=(o=this._totalSamples-1)-i)<0&&(s=0);var u=!1,l=this._samples;if(I.defined(l[3*s])||(lr(this,s/this._samplesPerXysFile|0),u=!0),I.defined(l[3*o])||(lr(this,o/this._samplesPerXysFile|0),u=!0),!u){I.defined(n)?(n.x=0,n.y=0,n.s=0):n=new ir(0,0,0);for(var d,c=r-s*this._stepSizeDays,f=this._work,h=this._denominators,p=this._coef,m=this._xTable,y=0;y<=i;++y)f[y]=c-m[y];for(y=0;y<=i;++y){for(p[y]=1,d=0;d<=i;++d)d!==y&&(p[y]*=f[d]);p[y]*=h[y];var v=3*(s+y);n.x+=p[y]*l[v++],n.y+=p[y]*l[v++],n.s+=p[y]*l[v]}return n}}}};var dr={},cr={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},fr={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},hr={},pr={east:new P.Cartesian3,north:new P.Cartesian3,up:new P.Cartesian3,west:new P.Cartesian3,south:new P.Cartesian3,down:new P.Cartesian3},mr=new P.Cartesian3,yr=new P.Cartesian3,vr=new P.Cartesian3;dr.localFrameToFixedFrameGenerator=function(s,o){if(!cr.hasOwnProperty(s)||!cr[s].hasOwnProperty(o))throw new i.DeveloperError("firstAxis and secondAxis must be east, north, up, west, south or down.");var e,u=cr[s][o],t=s+o;return I.defined(hr[t])?e=hr[t]:(e=function(e,t,n){var r,a,i;return I.defined(n)||(n=new G),P.Cartesian3.equalsEpsilon(e,P.Cartesian3.ZERO,X.CesiumMath.EPSILON14)?(P.Cartesian3.unpack(fr[s],0,mr),P.Cartesian3.unpack(fr[o],0,yr),P.Cartesian3.unpack(fr[u],0,vr)):X.CesiumMath.equalsEpsilon(e.x,0,X.CesiumMath.EPSILON14)&&X.CesiumMath.equalsEpsilon(e.y,0,X.CesiumMath.EPSILON14)?(r=X.CesiumMath.sign(e.z),P.Cartesian3.unpack(fr[s],0,mr),"east"!==s&&"west"!==s&&P.Cartesian3.multiplyByScalar(mr,r,mr),P.Cartesian3.unpack(fr[o],0,yr),"east"!==o&&"west"!==o&&P.Cartesian3.multiplyByScalar(yr,r,yr),P.Cartesian3.unpack(fr[u],0,vr),"east"!==u&&"west"!==u&&P.Cartesian3.multiplyByScalar(vr,r,vr)):((t=I.defaultValue(t,c.Ellipsoid.WGS84)).geodeticSurfaceNormal(e,pr.up),a=pr.up,(i=pr.east).x=-e.y,i.y=e.x,i.z=0,P.Cartesian3.normalize(i,pr.east),P.Cartesian3.cross(a,i,pr.north),P.Cartesian3.multiplyByScalar(pr.up,-1,pr.down),P.Cartesian3.multiplyByScalar(pr.east,-1,pr.west),P.Cartesian3.multiplyByScalar(pr.north,-1,pr.south),mr=pr[s],yr=pr[o],vr=pr[u]),n[0]=mr.x,n[1]=mr.y,n[2]=mr.z,n[3]=0,n[4]=yr.x,n[5]=yr.y,n[6]=yr.z,n[7]=0,n[8]=vr.x,n[9]=vr.y,n[10]=vr.z,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,n},hr[t]=e),e},dr.eastNorthUpToFixedFrame=dr.localFrameToFixedFrameGenerator("east","north"),dr.northEastDownToFixedFrame=dr.localFrameToFixedFrameGenerator("north","east"),dr.northUpEastToFixedFrame=dr.localFrameToFixedFrameGenerator("north","up"),dr.northWestUpToFixedFrame=dr.localFrameToFixedFrameGenerator("north","west");var Cr=new nt,wr=new P.Cartesian3(1,1,1),xr=new G;dr.headingPitchRollToFixedFrame=function(e,t,n,r,a){r=I.defaultValue(r,dr.eastNorthUpToFixedFrame);var i=nt.fromHeadingPitchRoll(t,Cr),s=G.fromTranslationQuaternionRotationScale(P.Cartesian3.ZERO,i,wr,xr);return a=r(e,n,a),G.multiply(a,s,a)};var gr=new G,_r=new H;dr.headingPitchRollQuaternion=function(e,t,n,r,a){var i=dr.headingPitchRollToFixedFrame(e,t,n,r,gr),s=G.getMatrix3(i,_r);return nt.fromRotationMatrix(s,a)};var Er=new P.Cartesian3(1,1,1),Mr=new P.Cartesian3,Or=new G,br=new G,Rr=new H,qr=new nt;dr.fixedFrameToHeadingPitchRoll=function(e,t,n,r){t=I.defaultValue(t,c.Ellipsoid.WGS84),n=I.defaultValue(n,dr.eastNorthUpToFixedFrame),I.defined(r)||(r=new Hn);var a=G.getTranslation(e,Mr);if(P.Cartesian3.equals(a,P.Cartesian3.ZERO))return r.heading=0,r.pitch=0,r.roll=0,r;var i=G.inverseTransformation(n(a,t,Or),Or),s=G.setScale(e,Er,br),s=G.setTranslation(s,P.Cartesian3.ZERO,s),i=G.multiply(i,s,i),o=nt.fromRotationMatrix(G.getMatrix3(i,Rr),qr),o=nt.normalize(o,o);return Hn.fromQuaternion(o,r)};var Sr=X.CesiumMath.TWO_PI/86400,zr=new b.JulianDate;dr.computeTemeToPseudoFixedMatrix=function(e,t){var n=(zr=b.JulianDate.addSeconds(e,-b.JulianDate.computeTaiMinusUtc(e),zr)).dayNumber,r=zr.secondsOfDay,a=n-2451545,i=43200<=r?(.5+a)/b.TimeConstants.DAYS_PER_JULIAN_CENTURY:(a-.5)/b.TimeConstants.DAYS_PER_JULIAN_CENTURY,s=(24110.54841+i*(8640184.812866+i*(.093104+-62e-7*i)))*Sr%X.CesiumMath.TWO_PI+(72921158553e-15+11772758384668e-32*(n-2451545.5))*((r+.5*b.TimeConstants.SECONDS_PER_DAY)%b.TimeConstants.SECONDS_PER_DAY),o=Math.cos(s),u=Math.sin(s);return I.defined(t)?(t[0]=o,t[1]=-u,t[2]=0,t[3]=u,t[4]=o,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new H(o,u,0,-u,o,0,0,0,1)},dr.iau2006XysData=new sr,dr.earthOrientationParameters=Ln.NONE;var Ar=32.184;dr.preloadIcrfFixed=function(e){var t=e.start.dayNumber,n=e.start.secondsOfDay+Ar,r=e.stop.dayNumber,a=e.stop.secondsOfDay+Ar,i=dr.iau2006XysData.preload(t,n,r,a),s=dr.earthOrientationParameters.getPromiseToLoad();return I.when.all([i,s])},dr.computeIcrfToFixedMatrix=function(e,t){I.defined(t)||(t=new H);var n=dr.computeFixedToIcrfMatrix(e,t);if(I.defined(n))return H.transpose(n,t)};var Tr=new ir(0,0,0),Ir=new Tt(0,0,0,0,0),Pr=new H,Ur=new H;dr.computeFixedToIcrfMatrix=function(e,t){I.defined(t)||(t=new H);var n=dr.earthOrientationParameters.compute(e,Ir);if(I.defined(n)){var r=e.dayNumber,a=e.secondsOfDay+Ar,i=dr.iau2006XysData.computeXysRadians(r,a,Tr);if(I.defined(i)){var s=i.x+n.xPoleOffset,o=i.y+n.yPoleOffset,u=1/(1+Math.sqrt(1-s*s-o*o)),l=Pr;l[0]=1-u*s*s,l[3]=-u*s*o,l[6]=s,l[1]=-u*s*o,l[4]=1-u*o*o,l[7]=o,l[2]=-s,l[5]=-o,l[8]=1-u*(s*s+o*o);var d=H.fromRotationZ(-i.s,Ur),c=H.multiply(l,d,Pr),f=e.dayNumber-2451545,h=(e.secondsOfDay-b.JulianDate.computeTaiMinusUtc(e)+n.ut1MinusUtc)/b.TimeConstants.SECONDS_PER_DAY,p=(p=.779057273264+h+.00273781191135448*(f+h))%1*X.CesiumMath.TWO_PI,m=H.fromRotationZ(p,Ur),y=H.multiply(c,m,Pr),v=Math.cos(n.xPoleWander),C=Math.cos(n.yPoleWander),w=Math.sin(n.xPoleWander),x=Math.sin(n.yPoleWander),g=r-2451545+a/b.TimeConstants.SECONDS_PER_DAY,_=-47e-6*(g/=36525)*X.CesiumMath.RADIANS_PER_DEGREE/3600,E=Math.cos(_),M=Math.sin(_),O=Ur;return O[0]=v*E,O[1]=v*M,O[2]=w,O[3]=-C*M+x*w*E,O[4]=C*E+x*w*M,O[5]=-x*v,O[6]=-x*M-C*w*E,O[7]=x*E-C*w*M,O[8]=C*v,H.multiply(y,O,t)}}};var Nr=new Q;dr.pointToWindowCoordinates=function(e,t,n,r){return(r=dr.pointToGLWindowCoordinates(e,t,n,r)).y=2*t[5]-r.y,r},dr.pointToGLWindowCoordinates=function(e,t,n,r){I.defined(r)||(r=new c.Cartesian2);var a=Nr;return G.multiplyByVector(e,Q.fromElements(n.x,n.y,n.z,1,a),a),Q.multiplyByScalar(a,1/a.w,a),G.multiplyByVector(t,a,a),c.Cartesian2.fromCartesian4(a,r)};var Vr=new P.Cartesian3,Fr=new P.Cartesian3,Dr=new P.Cartesian3;dr.rotationMatrixFromPositionVelocity=function(e,t,n,r){var a=I.defaultValue(n,c.Ellipsoid.WGS84).geodeticSurfaceNormal(e,Vr),i=P.Cartesian3.cross(t,a,Fr);P.Cartesian3.equalsEpsilon(i,P.Cartesian3.ZERO,X.CesiumMath.EPSILON6)&&(i=P.Cartesian3.clone(P.Cartesian3.UNIT_X,i));var s=P.Cartesian3.cross(i,t,Dr);return P.Cartesian3.normalize(s,s),P.Cartesian3.cross(t,s,i),P.Cartesian3.negate(i,i),P.Cartesian3.normalize(i,i),I.defined(r)||(r=new H),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=i.x,r[4]=i.y,r[5]=i.z,r[6]=s.x,r[7]=s.y,r[8]=s.z,r};var jr=new G(0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,1),Wr=new c.Cartographic,Br=new P.Cartesian3,Lr=new P.Cartesian3,kr=new H,Jr=new G,Yr=new G;dr.basisTo2D=function(e,t,n){var r=G.getTranslation(t,Lr),a=e.ellipsoid,i=a.cartesianToCartographic(r,Wr),s=e.project(i,Br);P.Cartesian3.fromElements(s.z,s.x,s.y,s);var o=dr.eastNorthUpToFixedFrame(r,a,Jr),u=G.inverseTransformation(o,Yr),l=G.getMatrix3(t,kr),d=G.multiplyByMatrix3(u,l,n);return G.multiply(jr,d,n),G.setTranslation(n,s,n),n},dr.wgs84To2DModelMatrix=function(e,t,n){var r=e.ellipsoid,a=dr.eastNorthUpToFixedFrame(t,r,Jr),i=G.inverseTransformation(a,Yr),s=r.cartesianToCartographic(t,Wr),o=e.project(s,Br);P.Cartesian3.fromElements(o.z,o.x,o.y,o);var u=G.fromTranslation(o,Jr);return G.multiply(jr,i,n),G.multiply(u,n,n),n},e.BoundingSphere=U,e.Cartesian4=Q,e.FeatureDetection=tt,e.GeographicProjection=t,e.Intersect=s,e.Interval=o,e.Matrix3=H,e.Matrix4=G,e.Quaternion=nt,e.Resource=Pn,e.Transforms=dr,e.buildModuleUrl=ar});
