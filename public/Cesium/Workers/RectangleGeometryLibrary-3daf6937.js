define(["exports","./when-b43ff45e","./Check-d404a0fe","./Math-336da716","./Cartesian3-2b5b9afe","./Cartesian2-577f67dc","./Transforms-18f02e2b","./GeometryAttribute-5eb995bc"],function(t,f,n,v,G,O,a,x){"use strict";var p=Math.cos,b=Math.sin,R=Math.sqrt,r={computePosition:function(t,n,a,r,e,o,s){var i,g=n.radiiSquared,h=t.nwCorner,u=t.boundingRectangle,c=h.latitude-t.granYCos*r+e*t.granXSin,C=p(c),l=b(c),S=g.z*l,d=h.longitude+r*t.granYSin+e*t.granXCos,w=C*p(d),M=C*b(d),X=g.x*w,Y=g.y*M,m=R(X*w+Y*M+S*l);o.x=X/m,o.y=Y/m,o.z=S/m,a&&(i=t.stNwCorner,f.defined(i)?(c=i.latitude-t.stGranYCos*r+e*t.stGranXSin,d=i.longitude+r*t.stGranYSin+e*t.stGranXCos,s.x=(d-t.stWest)*t.lonScalar,s.y=(c-t.stSouth)*t.latScalar):(s.x=(d-u.west)*t.lonScalar,s.y=(c-u.south)*t.latScalar))}},y=new x.Matrix2,P=new G.Cartesian3,W=new O.Cartographic,_=new G.Cartesian3,T=new a.GeographicProjection;function j(t,n,a,r,e,o,s){var i=Math.cos(n),g=r*i,h=a*i,u=Math.sin(n),c=r*u,C=a*u;P=T.project(t,P),P=G.Cartesian3.subtract(P,_,P);var l=x.Matrix2.fromRotation(n,y);P=x.Matrix2.multiplyByVector(l,P,P),P=G.Cartesian3.add(P,_,P),--o,--s;var S=(t=T.unproject(P,t)).latitude,d=S+o*C,w=S-g*s,M=S-g*s+o*C,X=Math.max(S,d,w,M),Y=Math.min(S,d,w,M),m=t.longitude,f=m+o*h,p=m+s*c,b=m+s*c+o*h;return{north:X,south:Y,east:Math.max(m,f,p,b),west:Math.min(m,f,p,b),granYCos:g,granYSin:c,granXCos:h,granXSin:C,nwCorner:t}}r.computeOptions=function(t,n,a,r,e,o,s){var i=t.east,g=t.west,h=t.north,u=t.south,c=!1,C=!1;h===v.CesiumMath.PI_OVER_TWO&&(c=!0),u===-v.CesiumMath.PI_OVER_TWO&&(C=!0);var l,S,d,w=h-u,M=(l=i<g?v.CesiumMath.TWO_PI-g+i:i-g)/((S=Math.ceil(l/n)+1)-1),X=w/((d=Math.ceil(w/n)+1)-1),Y=O.Rectangle.northwest(t,o),m=O.Rectangle.center(t,W);0===a&&0===r||(m.longitude<Y.longitude&&(m.longitude+=v.CesiumMath.TWO_PI),_=T.project(m,_));var f,p,b,G=X,x=M,R=O.Rectangle.clone(t,e),y={granYCos:G,granYSin:0,granXCos:x,granXSin:0,nwCorner:Y,boundingRectangle:R,width:S,height:d,northCap:c,southCap:C};return 0!==a&&(h=(f=j(Y,a,M,X,0,S,d)).north,u=f.south,i=f.east,g=f.west,y.granYCos=f.granYCos,y.granYSin=f.granYSin,y.granXCos=f.granXCos,y.granXSin=f.granXSin,R.north=h,R.south=u,R.east=i,R.west=g),0!==r&&(a-=r,b=j(p=O.Rectangle.northwest(R,s),a,M,X,0,S,d),y.stGranYCos=b.granYCos,y.stGranXCos=b.granXCos,y.stGranYSin=b.granYSin,y.stGranXSin=b.granXSin,y.stNwCorner=p,y.stWest=b.west,y.stSouth=b.south),y},t.RectangleGeometryLibrary=r});
