define(["./when-b43ff45e","./RequestType-beb1291d","./createTaskProcessorWorker","./EV_IndexedDBProvider-38116392"],function(i,s,e,o){"use strict";var d=void 0;function k(e){var r=self.webkitPostMessage||self.postMessage;try{r({workerType:s.RequestType.TILES3D,dataName:e.keyName,workerTaskID:e.workerTaskID,data:void 0,meshPrimitives:[]})}catch(e){r({})}}function n(e,r){(new Date).getTime(),e.requestTime;var a=self.webkitPostMessage||self.postMessage;try{a({workerType:s.RequestType.TILES3D,dataName:e.keyName,workerTaskID:e.workerTaskID,data:r,meshPrimitives:e.meshPrimitives})}catch(e){a({})}}return e(function(e,r){var a,s=e.indexedDB,t=e.taskData;t.workerTaskID=e.workerTaskID,i.defined(d)?i.defined(d.iDB)?(a=new Date,t.requestTime=a.getTime(),d.download3DTileArrayBuffer("EVIDB",1,"3DTile",t,k,n)):k(t):((d=new o.EV_IndexedDBProvider(s)).createIDB("EVIDB",1,["model","imagery","terrain","3DTile"]),k(t))})});
